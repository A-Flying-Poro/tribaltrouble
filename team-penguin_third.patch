diff -Nur tribaltrouble/.gitignore nb-tribaltrouble/.gitignore
--- tribaltrouble/.gitignore	2017-02-18 18:02:46.000000000 -0800
+++ nb-tribaltrouble/.gitignore	2017-02-16 22:56:01.000000000 -0800
@@ -1,2 +1,7 @@
+nbproject/
+build/
+nbbuild/
+dist/
+nbdist/
+.nb-gradle/
 .svn
-build
diff -Nur tribaltrouble/README.md nb-tribaltrouble/README.md
--- tribaltrouble/README.md	2017-02-18 18:02:46.000000000 -0800
+++ nb-tribaltrouble/README.md	2017-02-18 07:16:43.000000000 -0800
@@ -1,20 +1,14 @@
-Team Penguin's goals:
+## Team Penguin's progress:
 
-- Build a Matchmaking/Registration instance using the same processes as the original game.
-- Extend game functionality to (8) Players and (1) additional Island size: Huge
-- Learn NetBeans and wrangle the code base into a manageable build environment.
+- [x] Matchmaking, Routing and Registration.
+- [x] Game play with (8) Players on a Huge Island.
 
-Team Penguin's progress:
+- Server setup documentation
 
-- Matchmaking, Routing and Registration services are working.
-- The Game plays with (8) Players on a Huge Island.
-
-Team Penguin's current state:
-
-- Inital merge completed.
-- Added LWJGL 2.9.3 java/native code: http://legacy.lwjgl.org/
-- Added first patch:  team-penguin_first.patch
-- Added second patch: team-penguin_second.patch
+[DNS](dns/DNS.md)
+[MySQL](mysql/MYSQL.md)
+[Registration](registration-files/REGISTRATION.md)
+[Apache Tomcat 6](apache-tomcat/TOMCAT.md)
 
 
 
diff -Nur tribaltrouble/apache-tomcat/00_registration_vhost.conf nb-tribaltrouble/apache-tomcat/00_registration_vhost.conf
--- tribaltrouble/apache-tomcat/00_registration_vhost.conf	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/apache-tomcat/00_registration_vhost.conf	2017-02-16 20:47:29.000000000 -0800
@@ -0,0 +1,8 @@
+# HttpRequestParameters("http://" + Settings.getSettings().registration_address + "/oddlabs/registration", parameters);
+<VirtualHost registration.oddlabs.com:80>
+	ServerName oddlabs.com
+	ServerAlias registration.oddlabs.com
+	ProxyRequests Off
+	ProxyPass /  http://registration.oddlabs.com:8080/
+	ProxyPassReverse /  http://registration.oddlabs.com:8080/
+</VirtualHost>
diff -Nur tribaltrouble/apache-tomcat/TOMCAT.md nb-tribaltrouble/apache-tomcat/TOMCAT.md
--- tribaltrouble/apache-tomcat/TOMCAT.md	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/apache-tomcat/TOMCAT.md	2017-02-18 09:50:04.000000000 -0800
@@ -0,0 +1,14 @@
+Apache Tomcat 6 is required for the Registration servlet.
+> servlet/regservlet
+Typical Tomcat installations listen on port 8080.
+The sample Apache Virtual Host configuration [00_registration_vhost.conf](00_registration_vhost.conf) requires:
+> mod_proxy
+> mod_proxy_http
+This example will direct HTTP requests to the Tomcat instance.
+In order to use HTTP instead of HTTPS, the code has been modified in:
+> tt/classes/com/oddlabs/tt/render/Renderer.java
+```
+//return new HttpRequestParameters("https://" + Settings.getSettings().registration_address + "/oddlabs/registration", parameters);
+return new HttpRequestParameters("http://" + Settings.getSettings().registration_address + "/oddlabs/registration", parameters);
+```
+The Registration servlet depends on [DNS](../dns/DNS.md) and [MySQL](../mysql/MYSQL.md)
diff -Nur tribaltrouble/clean.sh nb-tribaltrouble/clean.sh
--- tribaltrouble/clean.sh	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/clean.sh	2017-02-18 10:49:41.000000000 -0800
@@ -0,0 +1,9 @@
+#!/bin/bash
+
+find -type d -name build | while read line
+do
+	cd ${line%/build} && ant clean
+	cd -
+done
+
+find -type d -name build -exec ls {} \;
diff -Nur tribaltrouble/common/build.xml nb-tribaltrouble/common/build.xml
--- tribaltrouble/common/build.xml	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/common/build.xml	2017-02-15 21:43:41.000000000 -0800
@@ -1,5 +1,5 @@
 <project name="common" basedir="." default="compile">
 	<import file="common.xml"/>
 
-	<property name="classpath" value="${lib}/javasvn.jar:${lib}/lwjgl.jar:${lib}/lwjgl_util.jar:${lib}/commons-pool-1.2.jar:${lib}/commons-dbcp-1.2.1.jar:${lib}/commons-collections-3.1.jar:${lib}/commons-lang3-3.5.jar"/>
+	<property name="classpath" value="${lib}/javasvn.jar:${lib}/lwjgl.jar:${lib}/lwjgl_util.jar:${lib}/commons-pool-1.6.jar:${lib}/commons-dbcp-1.4.jar:${lib}/commons-collections-3.1.jar:${lib}/commons-lang3-3.5.jar"/>
 </project>
diff -Nur tribaltrouble/common/classes/com/oddlabs/regclient/RegistrationClient.java nb-tribaltrouble/common/classes/com/oddlabs/regclient/RegistrationClient.java
--- tribaltrouble/common/classes/com/oddlabs/regclient/RegistrationClient.java	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/common/classes/com/oddlabs/regclient/RegistrationClient.java	2017-02-17 18:12:49.000000000 -0800
@@ -68,15 +68,17 @@
 			public final void loadSucceeded(Object obj) {
 				try {
 					SignedObject signed_obj = (SignedObject)obj;
+					PublicKey public_key = RegistrationKey.loadPublicKey();
 					/* Team Penguin */
 					System.out.println("registration_info: " + ReflectionToStringBuilder.toString(signed_obj.getObject()));
-					PublicKey public_key = RegistrationKey.loadPublicKey();
-					//if (RegistrationKey.verify(public_key, signed_obj)) {
+					// Comment the next line to enable any old registration file.
+					if (RegistrationKey.verify(public_key, signed_obj)) {
 						signed_registration_key = signed_obj;
 						registration_info = (RegistrationInfo)signed_registration_key.getObject();
 						if (registration_listener != null)
 							registration_listener.registrationCompleted();
-					//}
+					}
+					// Comment the '}' character above to enable any old registration file.
 					/* End Penguin */
 				} catch (Exception e) {
 					failed(e);
diff -Nur tribaltrouble/common/classes/com/oddlabs/util/CryptUtils.java nb-tribaltrouble/common/classes/com/oddlabs/util/CryptUtils.java
--- tribaltrouble/common/classes/com/oddlabs/util/CryptUtils.java	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/common/classes/com/oddlabs/util/CryptUtils.java	2017-02-15 22:23:10.000000000 -0800
@@ -83,7 +83,7 @@
 	}
 /*
 	public final static void main(String[] args) {
-//		String bla = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_.:;?+={}[]()/&%¤#!1§<\\>'*";
+//		String bla = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_.:;?+={}[]()/&%\u00A4#!1\u00A7<\\>'*";
 System.out.println("		digest(\"xarerenlamer4kasbdvljh\") = " + 		digest("xarerenlamer4kasbdvljh"));
 //		digest(bla);
 	}
diff -Nur tribaltrouble/common/common.xml nb-tribaltrouble/common/common.xml
--- tribaltrouble/common/common.xml	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/common/common.xml	2017-02-16 20:42:39.000000000 -0800
@@ -10,7 +10,7 @@
 	<property name="tools" value="../tools"/>
 	<property name="nativelib" value="../common/lib/native"/>
 	<property name="commonstatic" value="../common/static"/>
-	<property name="java_source_version" value="1.5"/>
+	<property name="java_source_version" value="1.6"/>
 
 	<target name="init">
 		<tstamp/>
diff -Nur tribaltrouble/common/static/tribaltrouble.sh nb-tribaltrouble/common/static/tribaltrouble.sh
--- tribaltrouble/common/static/tribaltrouble.sh	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/common/static/tribaltrouble.sh	2017-02-16 18:28:29.000000000 -0800
@@ -0,0 +1,5 @@
+#!/bin/sh
+#
+# NOTE: The Huge Island will require: -Xmx400m
+
+java -ea -Djava.library.path=${PWD}/lib/native -Dorg.lwjgl.util.Debug=false -Xmx400m -cp .:./lib/'*' com.oddlabs.tt.Main --silent
diff -Nur tribaltrouble/dns/DNS.md nb-tribaltrouble/dns/DNS.md
--- tribaltrouble/dns/DNS.md	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/dns/DNS.md	2017-02-18 08:22:23.000000000 -0800
@@ -0,0 +1,12 @@
+DNS is required for Tribal Trouble Match play.
+The sample [oddlabs.zone](oddlabs.zone) file resolves services to the loopback interface. 
+One can just as easily resolve to a server on your **private** network.
+One can also modify the server definitions in:
+> tt/classes/com/oddlabs/tt/global/Settings.java
+```
+// network
+public String registration_address = "registration.oddlabs.com";
+public String matchmaking_address = "matchmaking.oddlabs.com";
+public String bugreport_address = "bugreport.oddlabs.com";
+public String router_address = "router.oddlabs.com";
+```
diff -Nur tribaltrouble/dns/oddlabs.zone nb-tribaltrouble/dns/oddlabs.zone
--- tribaltrouble/dns/oddlabs.zone	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/dns/oddlabs.zone	2017-02-16 22:04:30.000000000 -0800
@@ -0,0 +1,17 @@
+$ORIGIN oddlabs.com.
+$TTL 1W
+@       IN      SOA     localhost. root.localhost.  (
+                                      2008122601 ; Serial
+                                      28800      ; Refresh
+                                      14400      ; Retry
+                                      604800     ; Expire - 1 week
+                                      86400 )    ; Minimum
+	IN      NS      localhost.
+	IN	MX  10  localhost.
+	IN	A	127.0.0.1
+
+registration	IN	A	127.0.0.1
+matchmaking	IN	A	127.0.0.1
+bugreport	IN	A	127.0.0.1
+router		IN	A	127.0.0.1
+update		IN	A	127.0.0.1
diff -Nur tribaltrouble/manifest.mf nb-tribaltrouble/manifest.mf
--- tribaltrouble/manifest.mf	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/manifest.mf	2017-02-15 21:16:47.000000000 -0800
@@ -0,0 +1,3 @@
+Manifest-Version: 1.0
+X-COMMENT: Main-Class will be added automatically by build
+
diff -Nur tribaltrouble/mysql/MYSQL.md nb-tribaltrouble/mysql/MYSQL.md
--- tribaltrouble/mysql/MYSQL.md	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/mysql/MYSQL.md	2017-02-18 09:02:50.000000000 -0800
@@ -0,0 +1,6 @@
+- Create **oddlabs** database:
+> [create_oddlabs.sql](create_oddlabs.sql)
+- Insert (2) unclaimed registration records:
+> [insert_reg_key.sql](insert_reg_key.sql)
+- Purge accumulated **game_reports** records:
+> [purge_game_reports.sql](purge_game_reports.sql)
diff -Nur tribaltrouble/mysql/create_oddlabs.sql nb-tribaltrouble/mysql/create_oddlabs.sql
--- tribaltrouble/mysql/create_oddlabs.sql	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/mysql/create_oddlabs.sql	2017-02-16 22:14:23.000000000 -0800
@@ -0,0 +1,136 @@
+DROP DATABASE oddlabs;
+CREATE DATABASE oddlabs;
+USE oddlabs;
+
+CREATE TABLE `game_reports` (
+  `game_id` int(11) NOT NULL DEFAULT '0',
+  `tick` int(11) NOT NULL DEFAULT '0',
+  `team1` int(11) NOT NULL DEFAULT '0',
+  `team2` int(11) NOT NULL DEFAULT '0',
+  `team3` int(11) NOT NULL DEFAULT '0',
+  `team4` int(11) NOT NULL DEFAULT '0',
+  `team5` int(11) NOT NULL DEFAULT '0',
+  `team6` int(11) NOT NULL DEFAULT '0',
+  `team7` int(11) NOT NULL DEFAULT '0',
+  `team8` int(11) NOT NULL DEFAULT '0',
+  KEY `game_id` (`game_id`)
+) ENGINE=InnoDB DEFAULT CHARSET=utf8;
+
+CREATE TABLE `games` (
+  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
+  `player1_name` varchar(20) NOT NULL DEFAULT '',
+  `player2_name` varchar(20) NOT NULL DEFAULT '',
+  `player3_name` varchar(20) NOT NULL DEFAULT '',
+  `player4_name` varchar(20) NOT NULL DEFAULT '',
+  `player5_name` varchar(20) NOT NULL DEFAULT '',
+  `player6_name` varchar(20) NOT NULL DEFAULT '',
+  `player7_name` varchar(20) NOT NULL DEFAULT '',
+  `player8_name` varchar(20) NOT NULL DEFAULT '',
+  `player1_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player2_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player3_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player4_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player5_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player6_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player7_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player8_race` enum('V','N') NOT NULL DEFAULT 'V',
+  `player1_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player2_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player3_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player4_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player5_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player6_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player7_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `player8_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `time_create` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
+  `time_start` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
+  `time_stop` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
+  `name` varchar(40) NOT NULL DEFAULT '',
+  `rated` enum('N','Y') NOT NULL DEFAULT 'N',
+  `speed` enum('1','2','3','4') NOT NULL DEFAULT '1',
+  `size` enum('1','2','3','4') NOT NULL DEFAULT '1',
+  `hills` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `trees` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `resources` tinyint(3) unsigned NOT NULL DEFAULT '0',
+  `mapcode` varchar(15) NOT NULL DEFAULT '',
+  `status` enum('created','started','completed','dropped') NOT NULL DEFAULT 'created',
+  `winner` tinyint(4) NOT NULL DEFAULT '0',
+  PRIMARY KEY (`id`)
+) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
+
+CREATE TABLE `messages` (
+  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
+  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
+  `message` text NOT NULL,
+  KEY `id` (`id`)
+) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
+
+CREATE TABLE `online_profiles` (
+  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
+  `nick` varchar(20) NOT NULL DEFAULT '',
+  `game_id` int(11) NOT NULL DEFAULT '2137',
+  PRIMARY KEY (`id`),
+  UNIQUE KEY `nick` (`nick`)
+) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
+
+CREATE TABLE `profiles` (
+  `id` int(11) NOT NULL AUTO_INCREMENT,
+  `reg_id` int(11) NOT NULL DEFAULT '0',
+  `nick` varchar(20) NOT NULL DEFAULT '',
+  `rating` int(11) NOT NULL DEFAULT '0',
+  `wins` int(11) NOT NULL DEFAULT '0',
+  `losses` int(11) NOT NULL DEFAULT '0',
+  `invalid` int(10) unsigned NOT NULL DEFAULT '0',
+  PRIMARY KEY (`id`),
+  UNIQUE KEY `nick` (`nick`)
+) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
+
+CREATE TABLE `registrations` (
+  `id` int(11) NOT NULL AUTO_INCREMENT,
+  `last_used_profile` varchar(20) NOT NULL DEFAULT '',
+  `reg_key` varchar(20) NOT NULL,
+  `disabled` tinyint(1) NOT NULL DEFAULT '0',
+  `banned` tinyint(1) NOT NULL DEFAULT '0',
+  `reg_email` varchar(60) NOT NULL DEFAULT '',
+  `email` varchar(60) NOT NULL DEFAULT '',
+  `timezone` tinyint(4) NOT NULL DEFAULT '0',
+  `reg_time` datetime DEFAULT '0000-00-00 00:00:00',
+  `num_reg` int(10) unsigned NOT NULL DEFAULT '0',
+  `name` varchar(80) NOT NULL DEFAULT '',
+  `username` varchar(20) NOT NULL DEFAULT '',
+  `password` varchar(40) NOT NULL DEFAULT '',
+  `address1` varchar(40) NOT NULL DEFAULT '',
+  `address2` varchar(40) NOT NULL DEFAULT '',
+  `zip` varchar(40) NOT NULL DEFAULT '',
+  `city` varchar(40) NOT NULL DEFAULT '',
+  `state` varchar(40) NOT NULL DEFAULT '',
+  `country` varchar(40) NOT NULL DEFAULT '',
+  `coupon` varchar(8) NOT NULL DEFAULT '',
+  `os` char(1) NOT NULL DEFAULT '',
+  `affiliate` varchar(50) NOT NULL DEFAULT '',
+  `shop` varchar(20) NOT NULL DEFAULT 'swreg',
+  `ref` varchar(255) NOT NULL DEFAULT '',
+  PRIMARY KEY (`id`,`reg_key`),
+  KEY `disabled` (`disabled`)
+) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;
+
+CREATE TABLE `settings` (
+  `property` varchar(50) NOT NULL,
+  `value` varchar(255) NOT NULL,
+  PRIMARY KEY (`property`)
+) ENGINE=InnoDB DEFAULT CHARSET=utf8;
+
+INSERT INTO `settings` VALUES ('max_profiles', '5');
+INSERT INTO `settings` VALUES ('min_username_length', '2');
+INSERT INTO `settings` VALUES ('max_username_length', '20');
+INSERT INTO `settings` VALUES ('min_password_length', '6');
+INSERT INTO `settings` VALUES ('max_password_length', '20');
+INSERT INTO `settings` VALUES ('allowed_chars', 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789^|_.,:;?+={}[]()/\\&%#!<>*@$');
+INSERT INTO `settings` VALUES ('revision', '2137');
+
+CREATE VIEW match_valid_key AS
+SELECT reg_key FROM registrations R WHERE NOT R.disabled;
+
+GRANT ALL ON oddlabs.* TO 'matchmaker'@'localhost' IDENTIFIED BY 'U46TawOp';
+
+FLUSH PRIVILEGES;
diff -Nur tribaltrouble/mysql/insert_reg_key.sql nb-tribaltrouble/mysql/insert_reg_key.sql
--- tribaltrouble/mysql/insert_reg_key.sql	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/mysql/insert_reg_key.sql	2017-02-15 21:19:22.000000000 -0800
@@ -0,0 +1,4 @@
+USE oddlabs;
+
+INSERT INTO registrations (reg_key, reg_time) SELECT 'H2MU-576N-DJ58-W8Q6', now() FROM DUAL WHERE NOT EXISTS (SELECT reg_key FROM registrations WHERE reg_key = 'H2MU-576N-DJ58-W8Q6');
+INSERT INTO registrations (reg_key, reg_time) SELECT 'K6AA-Y33X-C7ZT-K4TF', now() FROM DUAL WHERE NOT EXISTS (SELECT reg_key FROM registrations WHERE reg_key = 'K6AA-Y33X-C7ZT-K4TF');
diff -Nur tribaltrouble/mysql/oddlabs.sql nb-tribaltrouble/mysql/oddlabs.sql
--- tribaltrouble/mysql/oddlabs.sql	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/mysql/oddlabs.sql	1969-12-31 16:00:00.000000000 -0800
@@ -1,289 +0,0 @@
--- MySQL dump 10.15  Distrib 10.0.29-MariaDB, for Linux (i686)
---
--- Host: localhost    Database: localhost
--- ------------------------------------------------------
--- Server version	10.0.28-MariaDB
-
-/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
-/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
-/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
-/*!40101 SET NAMES utf8 */;
-/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
-/*!40103 SET TIME_ZONE='+00:00' */;
-/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
-/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
-/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
-/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
-
---
--- Table structure for table `game_reports`
---
-
-DROP TABLE IF EXISTS `game_reports`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `game_reports` (
-  `game_id` int(11) NOT NULL DEFAULT '0',
-  `tick` int(11) NOT NULL DEFAULT '0',
-  `team1` int(11) NOT NULL DEFAULT '0',
-  `team2` int(11) NOT NULL DEFAULT '0',
-  `team3` int(11) NOT NULL DEFAULT '0',
-  `team4` int(11) NOT NULL DEFAULT '0',
-  `team5` int(11) NOT NULL DEFAULT '0',
-  `team6` int(11) NOT NULL DEFAULT '0',
-  `team7` int(11) NOT NULL DEFAULT '0',
-  `team8` int(11) NOT NULL DEFAULT '0',
-  KEY `game_id` (`game_id`)
-) ENGINE=MyISAM DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Table structure for table `games`
---
-
-DROP TABLE IF EXISTS `games`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `games` (
-  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
-  `player1_name` varchar(20) NOT NULL DEFAULT '',
-  `player2_name` varchar(20) NOT NULL DEFAULT '',
-  `player3_name` varchar(20) NOT NULL DEFAULT '',
-  `player4_name` varchar(20) NOT NULL DEFAULT '',
-  `player5_name` varchar(20) NOT NULL DEFAULT '',
-  `player6_name` varchar(20) NOT NULL DEFAULT '',
-  `player7_name` varchar(20) NOT NULL DEFAULT '',
-  `player8_name` varchar(20) NOT NULL DEFAULT '',
-  `player1_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player2_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player3_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player4_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player5_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player6_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player7_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player8_race` enum('V','N') NOT NULL DEFAULT 'V',
-  `player1_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player2_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player3_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player4_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player5_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player6_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player7_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `player8_team` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `time_create` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
-  `time_start` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
-  `time_stop` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
-  `name` varchar(40) NOT NULL DEFAULT '',
-  `rated` enum('N','Y') NOT NULL DEFAULT 'N',
-  `speed` enum('1','2','3','4') NOT NULL DEFAULT '1',
-  `size` enum('1','2','3','4') NOT NULL DEFAULT '1',
-  `hills` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `trees` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `resources` tinyint(3) unsigned NOT NULL DEFAULT '0',
-  `mapcode` varchar(16) NOT NULL DEFAULT '',
-  `status` enum('created','started','completed','dropped') NOT NULL DEFAULT 'created',
-  `winner` tinyint(4) NOT NULL DEFAULT '0',
-  PRIMARY KEY (`id`)
-) ENGINE=MyISAM AUTO_INCREMENT=1496872 DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Table structure for table `match_user`
---
-
-DROP TABLE IF EXISTS `match_user`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `match_user` (
-  `username` varchar(20) NOT NULL,
-  `id` int(11) NOT NULL,
-  `reg_key` varchar(20) NOT NULL,
-  `password` varchar(40) NOT NULL,
-  `email` varchar(60) NOT NULL,
-  `last_used_profile` int(10) DEFAULT NULL,
-  `banned_until` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
-  PRIMARY KEY (`username`),
-  UNIQUE KEY `reg_key` (`reg_key`),
-  KEY `banned_until` (`banned_until`),
-  KEY `id` (`id`,`reg_key`),
-  CONSTRAINT `match_user_ibfk_1` FOREIGN KEY (`id`, `reg_key`) REFERENCES `registrations` (`id`, `reg_key`)
-) ENGINE=InnoDB DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Temporary table structure for view `match_valid_key`
---
-
-DROP TABLE IF EXISTS `match_valid_key`;
-/*!50001 DROP VIEW IF EXISTS `match_valid_key`*/;
-SET @saved_cs_client     = @@character_set_client;
-SET character_set_client = utf8;
-/*!50001 CREATE TABLE `match_valid_key` (
-  `reg_key` tinyint NOT NULL
-) ENGINE=MyISAM */;
-SET character_set_client = @saved_cs_client;
-
---
--- Temporary table structure for view `match_valid_user`
---
-
-DROP TABLE IF EXISTS `match_valid_user`;
-/*!50001 DROP VIEW IF EXISTS `match_valid_user`*/;
-SET @saved_cs_client     = @@character_set_client;
-SET character_set_client = utf8;
-/*!50001 CREATE TABLE `match_valid_user` (
-  `username` tinyint NOT NULL,
-  `password` tinyint NOT NULL
-) ENGINE=MyISAM */;
-SET character_set_client = @saved_cs_client;
-
---
--- Table structure for table `messages`
---
-
-DROP TABLE IF EXISTS `messages`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `messages` (
-  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
-  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
-  `message` text NOT NULL,
-  KEY `id` (`id`)
-) ENGINE=MyISAM AUTO_INCREMENT=43783 DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Table structure for table `online_profiles`
---
-
-DROP TABLE IF EXISTS `online_profiles`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `online_profiles` (
-  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
-  `nick` varchar(20) NOT NULL DEFAULT '',
-  `game_id` int(11) NOT NULL DEFAULT '2137',
-  PRIMARY KEY (`id`),
-  UNIQUE KEY `nick` (`nick`)
-) ENGINE=MyISAM AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Table structure for table `profiles`
---
-
-DROP TABLE IF EXISTS `profiles`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `profiles` (
-  `id` int(11) NOT NULL AUTO_INCREMENT,
-  `reg_id` int(11) NOT NULL DEFAULT '0',
-  `nick` varchar(20) NOT NULL DEFAULT '',
-  `rating` int(11) NOT NULL DEFAULT '0',
-  `wins` int(10) NOT NULL DEFAULT '0',
-  `losses` int(10) NOT NULL DEFAULT '0',
-  `invalid` int(10) unsigned NOT NULL DEFAULT '0',
-  PRIMARY KEY (`id`),
-  UNIQUE KEY `nick` (`nick`)
-) ENGINE=MyISAM AUTO_INCREMENT=93838 DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Table structure for table `registrations`
---
-
-DROP TABLE IF EXISTS `registrations`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `registrations` (
-  `id` int(11) NOT NULL AUTO_INCREMENT,
-  `last_used_profile` varchar(20) NOT NULL DEFAULT '',
-  `reg_key` varchar(20) NOT NULL,
-  `disabled` tinyint(1) NOT NULL DEFAULT '0',
-  `banned` tinyint(1) NOT NULL DEFAULT '0',
-  `reg_email` varchar(60) NOT NULL DEFAULT '',
-  `email` varchar(60) NOT NULL DEFAULT '',
-  `timezone` tinyint(4) NOT NULL DEFAULT '0',
-  `reg_time` datetime DEFAULT '0000-00-00 00:00:00',
-  `num_reg` int(10) unsigned NOT NULL DEFAULT '0',
-  `name` varchar(80) NOT NULL DEFAULT '',
-  `username` varchar(20) NOT NULL DEFAULT '',
-  `password` varchar(40) NOT NULL DEFAULT '',
-  `address1` varchar(40) NOT NULL DEFAULT '',
-  `address2` varchar(40) NOT NULL DEFAULT '',
-  `zip` varchar(40) NOT NULL DEFAULT '',
-  `city` varchar(40) NOT NULL DEFAULT '',
-  `state` varchar(40) NOT NULL DEFAULT '',
-  `country` varchar(40) NOT NULL DEFAULT '',
-  `coupon` varchar(8) NOT NULL DEFAULT '',
-  `os` char(1) NOT NULL DEFAULT '',
-  `affiliate` varchar(50) NOT NULL DEFAULT '',
-  `shop` varchar(20) NOT NULL DEFAULT 'swreg',
-  `ref` varchar(255) NOT NULL DEFAULT '',
-  PRIMARY KEY (`id`,`reg_key`),
-  KEY `disabled` (`disabled`)
-) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Table structure for table `settings`
---
-
-DROP TABLE IF EXISTS `settings`;
-/*!40101 SET @saved_cs_client     = @@character_set_client */;
-/*!40101 SET character_set_client = utf8 */;
-CREATE TABLE `settings` (
-  `property` varchar(50) NOT NULL,
-  `value` varchar(255) NOT NULL,
-  PRIMARY KEY (`property`)
-) ENGINE=InnoDB DEFAULT CHARSET=utf8;
-/*!40101 SET character_set_client = @saved_cs_client */;
-
---
--- Final view structure for view `match_valid_key`
---
-
-/*!50001 DROP TABLE IF EXISTS `match_valid_key`*/;
-/*!50001 DROP VIEW IF EXISTS `match_valid_key`*/;
-/*!50001 SET @saved_cs_client          = @@character_set_client */;
-/*!50001 SET @saved_cs_results         = @@character_set_results */;
-/*!50001 SET @saved_col_connection     = @@collation_connection */;
-/*!50001 SET character_set_client      = utf8 */;
-/*!50001 SET character_set_results     = utf8 */;
-/*!50001 SET collation_connection      = utf8_general_ci */;
-/*!50001 CREATE ALGORITHM=UNDEFINED */
-/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
-/*!50001 VIEW `match_valid_key` AS select `R`.`reg_key` AS `reg_key` from `registrations` `R` where (`R`.`disabled` = 0) */;
-/*!50001 SET character_set_client      = @saved_cs_client */;
-/*!50001 SET character_set_results     = @saved_cs_results */;
-/*!50001 SET collation_connection      = @saved_col_connection */;
-
---
--- Final view structure for view `match_valid_user`
---
-
-/*!50001 DROP TABLE IF EXISTS `match_valid_user`*/;
-/*!50001 DROP VIEW IF EXISTS `match_valid_user`*/;
-/*!50001 SET @saved_cs_client          = @@character_set_client */;
-/*!50001 SET @saved_cs_results         = @@character_set_results */;
-/*!50001 SET @saved_col_connection     = @@collation_connection */;
-/*!50001 SET character_set_client      = utf8 */;
-/*!50001 SET character_set_results     = utf8 */;
-/*!50001 SET collation_connection      = utf8_general_ci */;
-/*!50001 CREATE ALGORITHM=UNDEFINED */
-/*!50013 DEFINER=`root`@`localhost` SQL SECURITY DEFINER */
-/*!50001 VIEW `match_valid_user` AS select `U`.`username` AS `username`,`U`.`password` AS `password` from (`match_valid_key` `K` join `match_user` `U`) where ((`U`.`reg_key` = `K`.`reg_key`) and (`U`.`banned_until` < now())) */;
-/*!50001 SET character_set_client      = @saved_cs_client */;
-/*!50001 SET character_set_results     = @saved_cs_results */;
-/*!50001 SET collation_connection      = @saved_col_connection */;
-/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;
-
-/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
-/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
-/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
-/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
-/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
-/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
-/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
-
--- Dump completed on 2017-01-21  7:42:41
diff -Nur tribaltrouble/mysql/purge_game_reports.sql nb-tribaltrouble/mysql/purge_game_reports.sql
--- tribaltrouble/mysql/purge_game_reports.sql	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/mysql/purge_game_reports.sql	2017-02-15 21:19:22.000000000 -0800
@@ -0,0 +1,3 @@
+USE oddlabs;
+
+DELETE game_reports FROM game_reports JOIN games ON game_reports.game_id = games.id WHERE games.status IN ('completed', 'dropped');
diff -Nur tribaltrouble/nbproject/build-impl.xml nb-tribaltrouble/nbproject/build-impl.xml
--- tribaltrouble/nbproject/build-impl.xml	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/nbproject/build-impl.xml	2017-02-15 22:36:57.000000000 -0800
@@ -0,0 +1,1467 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+*** GENERATED FROM project.xml - DO NOT EDIT  ***
+***         EDIT ../build.xml INSTEAD         ***
+
+For the purpose of easier reading the script
+is divided into following sections:
+
+  - initialization
+  - compilation
+  - jar
+  - execution
+  - debugging
+  - javadoc
+  - test compilation
+  - test execution
+  - test debugging
+  - applet
+  - cleanup
+
+        -->
+<project xmlns:j2seproject1="http://www.netbeans.org/ns/j2se-project/1" xmlns:j2seproject3="http://www.netbeans.org/ns/j2se-project/3" xmlns:jaxrpc="http://www.netbeans.org/ns/j2se-project/jax-rpc" basedir=".." default="default" name="nb-tribaltrouble-impl">
+    <fail message="Please build using Ant 1.8.0 or higher.">
+        <condition>
+            <not>
+                <antversion atleast="1.8.0"/>
+            </not>
+        </condition>
+    </fail>
+    <target depends="test,jar,javadoc" description="Build and test whole project." name="default"/>
+    <!-- 
+                ======================
+                INITIALIZATION SECTION 
+                ======================
+            -->
+    <target name="-pre-init">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="-pre-init" name="-init-private">
+        <property file="nbproject/private/config.properties"/>
+        <property file="nbproject/private/configs/${config}.properties"/>
+        <property file="nbproject/private/private.properties"/>
+    </target>
+    <target depends="-pre-init,-init-private" name="-init-user">
+        <property file="${user.properties.file}"/>
+        <!-- The two properties below are usually overridden -->
+        <!-- by the active platform. Just a fallback. -->
+        <property name="default.javac.source" value="1.4"/>
+        <property name="default.javac.target" value="1.4"/>
+    </target>
+    <target depends="-pre-init,-init-private,-init-user" name="-init-project">
+        <property file="nbproject/configs/${config}.properties"/>
+        <property file="nbproject/project.properties"/>
+    </target>
+    <target depends="-pre-init,-init-private,-init-user,-init-project,-init-macrodef-property" name="-do-init">
+        <j2seproject1:property name="platform.home" value="platforms.${platform.active}.home"/>
+        <j2seproject1:property name="platform.bootcp" value="platforms.${platform.active}.bootclasspath"/>
+        <j2seproject1:property name="platform.compiler" value="platforms.${platform.active}.compile"/>
+        <j2seproject1:property name="platform.javac.tmp" value="platforms.${platform.active}.javac"/>
+        <condition property="platform.javac" value="${platform.home}/bin/javac">
+            <equals arg1="${platform.javac.tmp}" arg2="$${platforms.${platform.active}.javac}"/>
+        </condition>
+        <property name="platform.javac" value="${platform.javac.tmp}"/>
+        <j2seproject1:property name="platform.java.tmp" value="platforms.${platform.active}.java"/>
+        <condition property="platform.java" value="${platform.home}/bin/java">
+            <equals arg1="${platform.java.tmp}" arg2="$${platforms.${platform.active}.java}"/>
+        </condition>
+        <property name="platform.java" value="${platform.java.tmp}"/>
+        <j2seproject1:property name="platform.javadoc.tmp" value="platforms.${platform.active}.javadoc"/>
+        <condition property="platform.javadoc" value="${platform.home}/bin/javadoc">
+            <equals arg1="${platform.javadoc.tmp}" arg2="$${platforms.${platform.active}.javadoc}"/>
+        </condition>
+        <property name="platform.javadoc" value="${platform.javadoc.tmp}"/>
+        <condition property="platform.invalid" value="true">
+            <or>
+                <contains string="${platform.javac}" substring="$${platforms."/>
+                <contains string="${platform.java}" substring="$${platforms."/>
+                <contains string="${platform.javadoc}" substring="$${platforms."/>
+            </or>
+        </condition>
+        <fail unless="platform.home">Must set platform.home</fail>
+        <fail unless="platform.bootcp">Must set platform.bootcp</fail>
+        <fail unless="platform.java">Must set platform.java</fail>
+        <fail unless="platform.javac">Must set platform.javac</fail>
+        <fail if="platform.invalid">
+ The J2SE Platform is not correctly set up.
+ Your active platform is: ${platform.active}, but the corresponding property "platforms.${platform.active}.home" is not found in the project's properties files. 
+ Either open the project in the IDE and setup the Platform with the same name or add it manually.
+ For example like this:
+     ant -Duser.properties.file=&lt;path_to_property_file&gt; jar (where you put the property "platforms.${platform.active}.home" in a .properties file)
+  or ant -Dplatforms.${platform.active}.home=&lt;path_to_JDK_home&gt; jar (where no properties file is used) 
+  </fail>
+        <available file="${manifest.file}" property="manifest.available"/>
+        <condition property="splashscreen.available">
+            <and>
+                <not>
+                    <equals arg1="${application.splash}" arg2="" trim="true"/>
+                </not>
+                <available file="${application.splash}"/>
+            </and>
+        </condition>
+        <condition property="main.class.available">
+            <and>
+                <isset property="main.class"/>
+                <not>
+                    <equals arg1="${main.class}" arg2="" trim="true"/>
+                </not>
+            </and>
+        </condition>
+        <condition property="profile.available">
+            <and>
+                <isset property="javac.profile"/>
+                <length length="0" string="${javac.profile}" when="greater"/>
+                <matches pattern="1\.[89](\..*)?" string="${javac.source}"/>
+            </and>
+        </condition>
+        <condition property="do.archive">
+            <or>
+                <not>
+                    <istrue value="${jar.archive.disabled}"/>
+                </not>
+                <istrue value="${not.archive.disabled}"/>
+            </or>
+        </condition>
+        <condition property="do.mkdist">
+            <and>
+                <isset property="do.archive"/>
+                <isset property="libs.CopyLibs.classpath"/>
+                <not>
+                    <istrue value="${mkdist.disabled}"/>
+                </not>
+            </and>
+        </condition>
+        <condition property="do.archive+manifest.available">
+            <and>
+                <isset property="manifest.available"/>
+                <istrue value="${do.archive}"/>
+            </and>
+        </condition>
+        <condition property="do.archive+main.class.available">
+            <and>
+                <isset property="main.class.available"/>
+                <istrue value="${do.archive}"/>
+            </and>
+        </condition>
+        <condition property="do.archive+splashscreen.available">
+            <and>
+                <isset property="splashscreen.available"/>
+                <istrue value="${do.archive}"/>
+            </and>
+        </condition>
+        <condition property="do.archive+profile.available">
+            <and>
+                <isset property="profile.available"/>
+                <istrue value="${do.archive}"/>
+            </and>
+        </condition>
+        <condition property="have.tests">
+            <or/>
+        </condition>
+        <condition property="have.sources">
+            <or>
+                <available file="${src.classes.dir}"/>
+                <available file="${src.classes2.dir}"/>
+                <available file="${src.classes3.dir}"/>
+                <available file="${src.classes4.dir}"/>
+                <available file="${src.classes5.dir}"/>
+            </or>
+        </condition>
+        <condition property="netbeans.home+have.tests">
+            <and>
+                <isset property="netbeans.home"/>
+                <isset property="have.tests"/>
+            </and>
+        </condition>
+        <condition property="no.javadoc.preview">
+            <and>
+                <isset property="javadoc.preview"/>
+                <isfalse value="${javadoc.preview}"/>
+            </and>
+        </condition>
+        <property name="run.jvmargs" value=""/>
+        <property name="run.jvmargs.ide" value=""/>
+        <property name="javac.compilerargs" value=""/>
+        <property name="work.dir" value="${basedir}"/>
+        <condition property="no.deps">
+            <and>
+                <istrue value="${no.dependencies}"/>
+            </and>
+        </condition>
+        <property name="javac.debug" value="true"/>
+        <property name="javadoc.preview" value="true"/>
+        <property name="application.args" value=""/>
+        <property name="source.encoding" value="${file.encoding}"/>
+        <property name="runtime.encoding" value="${source.encoding}"/>
+        <condition property="javadoc.encoding.used" value="${javadoc.encoding}">
+            <and>
+                <isset property="javadoc.encoding"/>
+                <not>
+                    <equals arg1="${javadoc.encoding}" arg2=""/>
+                </not>
+            </and>
+        </condition>
+        <property name="javadoc.encoding.used" value="${source.encoding}"/>
+        <property name="includes" value="**"/>
+        <property name="excludes" value=""/>
+        <property name="do.depend" value="false"/>
+        <condition property="do.depend.true">
+            <istrue value="${do.depend}"/>
+        </condition>
+        <path id="endorsed.classpath.path" path="${endorsed.classpath}"/>
+        <condition else="" property="endorsed.classpath.cmd.line.arg" value="-Xbootclasspath/p:'${toString:endorsed.classpath.path}'">
+            <and>
+                <isset property="endorsed.classpath"/>
+                <not>
+                    <equals arg1="${endorsed.classpath}" arg2="" trim="true"/>
+                </not>
+            </and>
+        </condition>
+        <condition else="" property="javac.profile.cmd.line.arg" value="-profile ${javac.profile}">
+            <isset property="profile.available"/>
+        </condition>
+        <property name="jar.index" value="false"/>
+        <property name="jar.index.metainf" value="${jar.index}"/>
+        <property name="copylibs.rebase" value="true"/>
+        <available file="${meta.inf.dir}/persistence.xml" property="has.persistence.xml"/>
+        <condition property="junit.available">
+            <or>
+                <available classname="org.junit.Test" classpath="${run.test.classpath}"/>
+                <available classname="junit.framework.Test" classpath="${run.test.classpath}"/>
+            </or>
+        </condition>
+        <condition property="testng.available">
+            <available classname="org.testng.annotations.Test" classpath="${run.test.classpath}"/>
+        </condition>
+        <condition property="junit+testng.available">
+            <and>
+                <istrue value="${junit.available}"/>
+                <istrue value="${testng.available}"/>
+            </and>
+        </condition>
+        <condition else="testng" property="testng.mode" value="mixed">
+            <istrue value="${junit+testng.available}"/>
+        </condition>
+        <condition else="" property="testng.debug.mode" value="-mixed">
+            <istrue value="${junit+testng.available}"/>
+        </condition>
+    </target>
+    <target name="-post-init">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="-pre-init,-init-private,-init-user,-init-project,-do-init" name="-init-check">
+        <fail unless="src.classes.dir">Must set src.classes.dir</fail>
+        <fail unless="src.classes2.dir">Must set src.classes2.dir</fail>
+        <fail unless="src.classes3.dir">Must set src.classes3.dir</fail>
+        <fail unless="src.classes4.dir">Must set src.classes4.dir</fail>
+        <fail unless="src.classes5.dir">Must set src.classes5.dir</fail>
+        <fail unless="build.dir">Must set build.dir</fail>
+        <fail unless="dist.dir">Must set dist.dir</fail>
+        <fail unless="build.classes.dir">Must set build.classes.dir</fail>
+        <fail unless="dist.javadoc.dir">Must set dist.javadoc.dir</fail>
+        <fail unless="build.test.classes.dir">Must set build.test.classes.dir</fail>
+        <fail unless="build.test.results.dir">Must set build.test.results.dir</fail>
+        <fail unless="build.classes.excludes">Must set build.classes.excludes</fail>
+        <fail unless="dist.jar">Must set dist.jar</fail>
+    </target>
+    <target name="-init-macrodef-property">
+        <macrodef name="property" uri="http://www.netbeans.org/ns/j2se-project/1">
+            <attribute name="name"/>
+            <attribute name="value"/>
+            <sequential>
+                <property name="@{name}" value="${@{value}}"/>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-ap-cmdline-properties" if="ap.supported.internal" name="-init-macrodef-javac-with-processors">
+        <macrodef name="javac" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${src.classes.dir}:${src.classes2.dir}:${src.classes3.dir}:${src.classes4.dir}:${src.classes5.dir}" name="srcdir"/>
+            <attribute default="${build.classes.dir}" name="destdir"/>
+            <attribute default="${javac.classpath}" name="classpath"/>
+            <attribute default="${javac.processorpath}" name="processorpath"/>
+            <attribute default="${build.generated.sources.dir}/ap-source-output" name="apgeneratedsrcdir"/>
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="${javac.debug}" name="debug"/>
+            <attribute default="${empty.dir}" name="sourcepath"/>
+            <attribute default="${empty.dir}" name="gensrcdir"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property location="${build.dir}/empty" name="empty.dir"/>
+                <mkdir dir="${empty.dir}"/>
+                <mkdir dir="@{apgeneratedsrcdir}"/>
+                <javac debug="@{debug}" deprecation="${javac.deprecation}" destdir="@{destdir}" encoding="${source.encoding}" excludes="@{excludes}" executable="${platform.javac}" fork="yes" includeantruntime="false" includes="@{includes}" source="${javac.source}" sourcepath="@{sourcepath}" srcdir="@{srcdir}" target="${javac.target}" tempdir="${java.io.tmpdir}">
+                    <src>
+                        <dirset dir="@{gensrcdir}" erroronmissingdir="false">
+                            <include name="*"/>
+                        </dirset>
+                    </src>
+                    <classpath>
+                        <path path="@{classpath}"/>
+                    </classpath>
+                    <compilerarg line="${endorsed.classpath.cmd.line.arg}"/>
+                    <compilerarg line="${javac.profile.cmd.line.arg}"/>
+                    <compilerarg line="${javac.compilerargs}"/>
+                    <compilerarg value="-processorpath"/>
+                    <compilerarg path="@{processorpath}:${empty.dir}"/>
+                    <compilerarg line="${ap.processors.internal}"/>
+                    <compilerarg line="${annotation.processing.processor.options}"/>
+                    <compilerarg value="-s"/>
+                    <compilerarg path="@{apgeneratedsrcdir}"/>
+                    <compilerarg line="${ap.proc.none.internal}"/>
+                    <customize/>
+                </javac>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-ap-cmdline-properties" name="-init-macrodef-javac-without-processors" unless="ap.supported.internal">
+        <macrodef name="javac" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${src.classes.dir}:${src.classes2.dir}:${src.classes3.dir}:${src.classes4.dir}:${src.classes5.dir}" name="srcdir"/>
+            <attribute default="${build.classes.dir}" name="destdir"/>
+            <attribute default="${javac.classpath}" name="classpath"/>
+            <attribute default="${javac.processorpath}" name="processorpath"/>
+            <attribute default="${build.generated.sources.dir}/ap-source-output" name="apgeneratedsrcdir"/>
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="${javac.debug}" name="debug"/>
+            <attribute default="${empty.dir}" name="sourcepath"/>
+            <attribute default="${empty.dir}" name="gensrcdir"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property location="${build.dir}/empty" name="empty.dir"/>
+                <mkdir dir="${empty.dir}"/>
+                <javac debug="@{debug}" deprecation="${javac.deprecation}" destdir="@{destdir}" encoding="${source.encoding}" excludes="@{excludes}" executable="${platform.javac}" fork="yes" includeantruntime="false" includes="@{includes}" source="${javac.source}" sourcepath="@{sourcepath}" srcdir="@{srcdir}" target="${javac.target}" tempdir="${java.io.tmpdir}">
+                    <src>
+                        <dirset dir="@{gensrcdir}" erroronmissingdir="false">
+                            <include name="*"/>
+                        </dirset>
+                    </src>
+                    <classpath>
+                        <path path="@{classpath}"/>
+                    </classpath>
+                    <compilerarg line="${endorsed.classpath.cmd.line.arg}"/>
+                    <compilerarg line="${javac.profile.cmd.line.arg}"/>
+                    <compilerarg line="${javac.compilerargs}"/>
+                    <customize/>
+                </javac>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-javac-with-processors,-init-macrodef-javac-without-processors" name="-init-macrodef-javac">
+        <macrodef name="depend" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${src.classes.dir}:${src.classes2.dir}:${src.classes3.dir}:${src.classes4.dir}:${src.classes5.dir}" name="srcdir"/>
+            <attribute default="${build.classes.dir}" name="destdir"/>
+            <attribute default="${javac.classpath}" name="classpath"/>
+            <sequential>
+                <depend cache="${build.dir}/depcache" destdir="@{destdir}" excludes="${excludes}" includes="${includes}" srcdir="@{srcdir}">
+                    <classpath>
+                        <path path="@{classpath}"/>
+                    </classpath>
+                </depend>
+            </sequential>
+        </macrodef>
+        <macrodef name="force-recompile" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${build.classes.dir}" name="destdir"/>
+            <sequential>
+                <fail unless="javac.includes">Must set javac.includes</fail>
+                <pathconvert pathsep="${line.separator}" property="javac.includes.binary">
+                    <path>
+                        <filelist dir="@{destdir}" files="${javac.includes}"/>
+                    </path>
+                    <globmapper from="*.java" to="*.class"/>
+                </pathconvert>
+                <tempfile deleteonexit="true" property="javac.includesfile.binary"/>
+                <echo file="${javac.includesfile.binary}" message="${javac.includes.binary}"/>
+                <delete>
+                    <files includesfile="${javac.includesfile.binary}"/>
+                </delete>
+                <delete>
+                    <fileset file="${javac.includesfile.binary}"/>
+                </delete>
+            </sequential>
+        </macrodef>
+    </target>
+    <target if="${junit.available}" name="-init-macrodef-junit-init">
+        <condition else="false" property="nb.junit.batch" value="true">
+            <and>
+                <istrue value="${junit.available}"/>
+                <not>
+                    <isset property="test.method"/>
+                </not>
+            </and>
+        </condition>
+        <condition else="false" property="nb.junit.single" value="true">
+            <and>
+                <istrue value="${junit.available}"/>
+                <isset property="test.method"/>
+            </and>
+        </condition>
+    </target>
+    <target name="-init-test-properties">
+        <property name="test.binaryincludes" value="&lt;nothing&gt;"/>
+        <property name="test.binarytestincludes" value=""/>
+        <property name="test.binaryexcludes" value=""/>
+    </target>
+    <target if="${nb.junit.single}" name="-init-macrodef-junit-single" unless="${nb.junit.batch}">
+        <macrodef name="junit" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property name="junit.forkmode" value="perTest"/>
+                <junit dir="${work.dir}" errorproperty="tests.failed" failureproperty="tests.failed" fork="true" forkmode="${junit.forkmode}" jvm="${platform.java}" showoutput="true" tempdir="${build.dir}">
+                    <test methods="@{testmethods}" name="@{testincludes}" todir="${build.test.results.dir}"/>
+                    <syspropertyset>
+                        <propertyref prefix="test-sys-prop."/>
+                        <mapper from="test-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <formatter type="brief" usefile="false"/>
+                    <formatter type="xml"/>
+                    <jvmarg value="-ea"/>
+                    <customize/>
+                </junit>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-test-properties" if="${nb.junit.batch}" name="-init-macrodef-junit-batch" unless="${nb.junit.single}">
+        <macrodef name="junit" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property name="junit.forkmode" value="perTest"/>
+                <junit dir="${work.dir}" errorproperty="tests.failed" failureproperty="tests.failed" fork="true" forkmode="${junit.forkmode}" jvm="${platform.java}" showoutput="true" tempdir="${build.dir}">
+                    <batchtest todir="${build.test.results.dir}">
+                        <fileset dir="${build.test.classes.dir}" excludes="@{excludes},${excludes},${test.binaryexcludes}" includes="${test.binaryincludes}">
+                            <filename name="${test.binarytestincludes}"/>
+                        </fileset>
+                    </batchtest>
+                    <syspropertyset>
+                        <propertyref prefix="test-sys-prop."/>
+                        <mapper from="test-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <formatter type="brief" usefile="false"/>
+                    <formatter type="xml"/>
+                    <jvmarg value="-ea"/>
+                    <customize/>
+                </junit>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-junit-init,-init-macrodef-junit-single, -init-macrodef-junit-batch" if="${junit.available}" name="-init-macrodef-junit"/>
+    <target if="${testng.available}" name="-init-macrodef-testng">
+        <macrodef name="testng" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <condition else="" property="testng.methods.arg" value="@{testincludes}.@{testmethods}">
+                    <isset property="test.method"/>
+                </condition>
+                <union id="test.set"/>
+                <taskdef classname="org.testng.TestNGAntTask" classpath="${run.test.classpath}" name="testng"/>
+                <testng classfilesetref="test.set" failureProperty="tests.failed" jvm="${platform.java}" listeners="org.testng.reporters.VerboseReporter" methods="${testng.methods.arg}" mode="${testng.mode}" outputdir="${build.test.results.dir}" suitename="nb-tribaltrouble" testname="TestNG tests" workingDir="${work.dir}">
+                    <xmlfileset dir="${build.test.classes.dir}" includes="@{testincludes}"/>
+                    <propertyset>
+                        <propertyref prefix="test-sys-prop."/>
+                        <mapper from="test-sys-prop.*" to="*" type="glob"/>
+                    </propertyset>
+                    <customize/>
+                </testng>
+            </sequential>
+        </macrodef>
+    </target>
+    <target name="-init-macrodef-test-impl">
+        <macrodef name="test-impl" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element implicit="true" name="customize" optional="true"/>
+            <sequential>
+                <echo>No tests executed.</echo>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-junit" if="${junit.available}" name="-init-macrodef-junit-impl">
+        <macrodef name="test-impl" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element implicit="true" name="customize" optional="true"/>
+            <sequential>
+                <j2seproject3:junit excludes="@{excludes}" includes="@{includes}" testincludes="@{testincludes}" testmethods="@{testmethods}">
+                    <customize/>
+                </j2seproject3:junit>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-testng" if="${testng.available}" name="-init-macrodef-testng-impl">
+        <macrodef name="test-impl" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element implicit="true" name="customize" optional="true"/>
+            <sequential>
+                <j2seproject3:testng excludes="@{excludes}" includes="@{includes}" testincludes="@{testincludes}" testmethods="@{testmethods}">
+                    <customize/>
+                </j2seproject3:testng>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-test-impl,-init-macrodef-junit-impl,-init-macrodef-testng-impl" name="-init-macrodef-test">
+        <macrodef name="test" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <sequential>
+                <j2seproject3:test-impl excludes="@{excludes}" includes="@{includes}" testincludes="@{testincludes}" testmethods="@{testmethods}">
+                    <customize>
+                        <classpath>
+                            <path path="${run.test.classpath}"/>
+                        </classpath>
+                        <jvmarg line="${endorsed.classpath.cmd.line.arg}"/>
+                        <jvmarg line="${run.jvmargs}"/>
+                        <jvmarg line="${run.jvmargs.ide}"/>
+                    </customize>
+                </j2seproject3:test-impl>
+            </sequential>
+        </macrodef>
+    </target>
+    <target if="${junit.available}" name="-init-macrodef-junit-debug" unless="${nb.junit.batch}">
+        <macrodef name="junit-debug" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property name="junit.forkmode" value="perTest"/>
+                <junit dir="${work.dir}" errorproperty="tests.failed" failureproperty="tests.failed" fork="true" forkmode="${junit.forkmode}" jvm="${platform.java}" showoutput="true" tempdir="${build.dir}">
+                    <test methods="@{testmethods}" name="@{testincludes}" todir="${build.test.results.dir}"/>
+                    <syspropertyset>
+                        <propertyref prefix="test-sys-prop."/>
+                        <mapper from="test-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <formatter type="brief" usefile="false"/>
+                    <formatter type="xml"/>
+                    <jvmarg value="-ea"/>
+                    <jvmarg line="${debug-args-line}"/>
+                    <jvmarg value="-Xrunjdwp:transport=${debug-transport},address=${jpda.address}"/>
+                    <customize/>
+                </junit>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-test-properties" if="${nb.junit.batch}" name="-init-macrodef-junit-debug-batch">
+        <macrodef name="junit-debug" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property name="junit.forkmode" value="perTest"/>
+                <junit dir="${work.dir}" errorproperty="tests.failed" failureproperty="tests.failed" fork="true" forkmode="${junit.forkmode}" jvm="${platform.java}" showoutput="true" tempdir="${build.dir}">
+                    <batchtest todir="${build.test.results.dir}">
+                        <fileset dir="${build.test.classes.dir}" excludes="@{excludes},${excludes},${test.binaryexcludes}" includes="${test.binaryincludes}">
+                            <filename name="${test.binarytestincludes}"/>
+                        </fileset>
+                    </batchtest>
+                    <syspropertyset>
+                        <propertyref prefix="test-sys-prop."/>
+                        <mapper from="test-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <formatter type="brief" usefile="false"/>
+                    <formatter type="xml"/>
+                    <jvmarg value="-ea"/>
+                    <jvmarg line="${debug-args-line}"/>
+                    <jvmarg value="-Xrunjdwp:transport=${debug-transport},address=${jpda.address}"/>
+                    <customize/>
+                </junit>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-junit-debug,-init-macrodef-junit-debug-batch" if="${junit.available}" name="-init-macrodef-junit-debug-impl">
+        <macrodef name="test-debug-impl" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <element implicit="true" name="customize" optional="true"/>
+            <sequential>
+                <j2seproject3:junit-debug excludes="@{excludes}" includes="@{includes}" testincludes="@{testincludes}" testmethods="@{testmethods}">
+                    <customize/>
+                </j2seproject3:junit-debug>
+            </sequential>
+        </macrodef>
+    </target>
+    <target if="${testng.available}" name="-init-macrodef-testng-debug">
+        <macrodef name="testng-debug" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${main.class}" name="testClass"/>
+            <attribute default="" name="testMethod"/>
+            <element name="customize2" optional="true"/>
+            <sequential>
+                <condition else="-testclass @{testClass}" property="test.class.or.method" value="-methods @{testClass}.@{testMethod}">
+                    <isset property="test.method"/>
+                </condition>
+                <condition else="-suitename nb-tribaltrouble -testname @{testClass} ${test.class.or.method}" property="testng.cmd.args" value="@{testClass}">
+                    <matches pattern=".*\.xml" string="@{testClass}"/>
+                </condition>
+                <delete dir="${build.test.results.dir}" quiet="true"/>
+                <mkdir dir="${build.test.results.dir}"/>
+                <j2seproject3:debug classname="org.testng.TestNG" classpath="${debug.test.classpath}">
+                    <customize>
+                        <customize2/>
+                        <jvmarg value="-ea"/>
+                        <arg line="${testng.debug.mode}"/>
+                        <arg line="-d ${build.test.results.dir}"/>
+                        <arg line="-listener org.testng.reporters.VerboseReporter"/>
+                        <arg line="${testng.cmd.args}"/>
+                    </customize>
+                </j2seproject3:debug>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-testng-debug" if="${testng.available}" name="-init-macrodef-testng-debug-impl">
+        <macrodef name="testng-debug-impl" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${main.class}" name="testClass"/>
+            <attribute default="" name="testMethod"/>
+            <element implicit="true" name="customize2" optional="true"/>
+            <sequential>
+                <j2seproject3:testng-debug testClass="@{testClass}" testMethod="@{testMethod}">
+                    <customize2/>
+                </j2seproject3:testng-debug>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-junit-debug-impl" if="${junit.available}" name="-init-macrodef-test-debug-junit">
+        <macrodef name="test-debug" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <attribute default="${main.class}" name="testClass"/>
+            <attribute default="" name="testMethod"/>
+            <sequential>
+                <j2seproject3:test-debug-impl excludes="@{excludes}" includes="@{includes}" testincludes="@{testincludes}" testmethods="@{testmethods}">
+                    <customize>
+                        <classpath>
+                            <path path="${run.test.classpath}"/>
+                        </classpath>
+                        <jvmarg line="${endorsed.classpath.cmd.line.arg}"/>
+                        <jvmarg line="${run.jvmargs}"/>
+                        <jvmarg line="${run.jvmargs.ide}"/>
+                    </customize>
+                </j2seproject3:test-debug-impl>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-testng-debug-impl" if="${testng.available}" name="-init-macrodef-test-debug-testng">
+        <macrodef name="test-debug" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${includes}" name="includes"/>
+            <attribute default="${excludes}" name="excludes"/>
+            <attribute default="**" name="testincludes"/>
+            <attribute default="" name="testmethods"/>
+            <attribute default="${main.class}" name="testClass"/>
+            <attribute default="" name="testMethod"/>
+            <sequential>
+                <j2seproject3:testng-debug-impl testClass="@{testClass}" testMethod="@{testMethod}">
+                    <customize2>
+                        <syspropertyset>
+                            <propertyref prefix="test-sys-prop."/>
+                            <mapper from="test-sys-prop.*" to="*" type="glob"/>
+                        </syspropertyset>
+                    </customize2>
+                </j2seproject3:testng-debug-impl>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-init-macrodef-test-debug-junit,-init-macrodef-test-debug-testng" name="-init-macrodef-test-debug"/>
+    <!--
+                pre NB7.2 profiling section; consider it deprecated
+            -->
+    <target depends="-profile-pre-init, init, -profile-post-init, -profile-init-macrodef-profile, -profile-init-check" if="profiler.info.jvmargs.agent" name="profile-init"/>
+    <target if="profiler.info.jvmargs.agent" name="-profile-pre-init">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target if="profiler.info.jvmargs.agent" name="-profile-post-init">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target if="profiler.info.jvmargs.agent" name="-profile-init-macrodef-profile">
+        <macrodef name="resolve">
+            <attribute name="name"/>
+            <attribute name="value"/>
+            <sequential>
+                <property name="@{name}" value="${env.@{value}}"/>
+            </sequential>
+        </macrodef>
+        <macrodef name="profile">
+            <attribute default="${main.class}" name="classname"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property environment="env"/>
+                <resolve name="profiler.current.path" value="${profiler.info.pathvar}"/>
+                <java classname="@{classname}" dir="${profiler.info.dir}" fork="true" jvm="${profiler.info.jvm}">
+                    <jvmarg line="${endorsed.classpath.cmd.line.arg}"/>
+                    <jvmarg value="${profiler.info.jvmargs.agent}"/>
+                    <jvmarg line="${profiler.info.jvmargs}"/>
+                    <env key="${profiler.info.pathvar}" path="${profiler.info.agentpath}:${profiler.current.path}"/>
+                    <arg line="${application.args}"/>
+                    <classpath>
+                        <path path="${run.classpath}"/>
+                    </classpath>
+                    <syspropertyset>
+                        <propertyref prefix="run-sys-prop."/>
+                        <mapper from="run-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <customize/>
+                </java>
+            </sequential>
+        </macrodef>
+    </target>
+    <target depends="-profile-pre-init, init, -profile-post-init, -profile-init-macrodef-profile" if="profiler.info.jvmargs.agent" name="-profile-init-check">
+        <fail unless="profiler.info.jvm">Must set JVM to use for profiling in profiler.info.jvm</fail>
+        <fail unless="profiler.info.jvmargs.agent">Must set profiler agent JVM arguments in profiler.info.jvmargs.agent</fail>
+    </target>
+    <!--
+                end of pre NB7.2 profiling section
+            -->
+    <target depends="-init-debug-args" name="-init-macrodef-nbjpda">
+        <macrodef name="nbjpdastart" uri="http://www.netbeans.org/ns/j2se-project/1">
+            <attribute default="${main.class}" name="name"/>
+            <attribute default="${debug.classpath}" name="classpath"/>
+            <attribute default="" name="stopclassname"/>
+            <sequential>
+                <nbjpdastart addressproperty="jpda.address" name="@{name}" stopclassname="@{stopclassname}" transport="${debug-transport}">
+                    <classpath>
+                        <path path="@{classpath}"/>
+                    </classpath>
+                    <bootclasspath>
+                        <path path="${platform.bootcp}"/>
+                    </bootclasspath>
+                </nbjpdastart>
+            </sequential>
+        </macrodef>
+        <macrodef name="nbjpdareload" uri="http://www.netbeans.org/ns/j2se-project/1">
+            <attribute default="${build.classes.dir}" name="dir"/>
+            <sequential>
+                <nbjpdareload>
+                    <fileset dir="@{dir}" includes="${fix.classes}">
+                        <include name="${fix.includes}*.class"/>
+                    </fileset>
+                </nbjpdareload>
+            </sequential>
+        </macrodef>
+    </target>
+    <target name="-init-debug-args">
+        <exec executable="${platform.java}" outputproperty="version-output">
+            <arg value="-version"/>
+        </exec>
+        <condition property="have-jdk-older-than-1.4">
+            <or>
+                <contains string="${version-output}" substring="java version &quot;1.0"/>
+                <contains string="${version-output}" substring="java version &quot;1.1"/>
+                <contains string="${version-output}" substring="java version &quot;1.2"/>
+                <contains string="${version-output}" substring="java version &quot;1.3"/>
+            </or>
+        </condition>
+        <condition else="-Xdebug" property="debug-args-line" value="-Xdebug -Xnoagent -Djava.compiler=none">
+            <istrue value="${have-jdk-older-than-1.4}"/>
+        </condition>
+        <condition else="dt_socket" property="debug-transport-by-os" value="dt_shmem">
+            <os family="windows"/>
+        </condition>
+        <condition else="${debug-transport-by-os}" property="debug-transport" value="${debug.transport}">
+            <isset property="debug.transport"/>
+        </condition>
+    </target>
+    <target depends="-init-debug-args" name="-init-macrodef-debug">
+        <macrodef name="debug" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${main.class}" name="classname"/>
+            <attribute default="${debug.classpath}" name="classpath"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <java classname="@{classname}" dir="${work.dir}" fork="true" jvm="${platform.java}">
+                    <jvmarg line="${endorsed.classpath.cmd.line.arg}"/>
+                    <jvmarg line="${debug-args-line}"/>
+                    <jvmarg value="-Xrunjdwp:transport=${debug-transport},address=${jpda.address}"/>
+                    <jvmarg value="-Dfile.encoding=${runtime.encoding}"/>
+                    <redirector errorencoding="${runtime.encoding}" inputencoding="${runtime.encoding}" outputencoding="${runtime.encoding}"/>
+                    <jvmarg line="${run.jvmargs}"/>
+                    <jvmarg line="${run.jvmargs.ide}"/>
+                    <classpath>
+                        <path path="@{classpath}"/>
+                    </classpath>
+                    <syspropertyset>
+                        <propertyref prefix="run-sys-prop."/>
+                        <mapper from="run-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <customize/>
+                </java>
+            </sequential>
+        </macrodef>
+    </target>
+    <target name="-init-macrodef-java">
+        <macrodef name="java" uri="http://www.netbeans.org/ns/j2se-project/1">
+            <attribute default="${main.class}" name="classname"/>
+            <attribute default="${run.classpath}" name="classpath"/>
+            <attribute default="jvm" name="jvm"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <java classname="@{classname}" dir="${work.dir}" fork="true" jvm="${platform.java}">
+                    <jvmarg line="${endorsed.classpath.cmd.line.arg}"/>
+                    <jvmarg value="-Dfile.encoding=${runtime.encoding}"/>
+                    <redirector errorencoding="${runtime.encoding}" inputencoding="${runtime.encoding}" outputencoding="${runtime.encoding}"/>
+                    <jvmarg line="${run.jvmargs}"/>
+                    <jvmarg line="${run.jvmargs.ide}"/>
+                    <classpath>
+                        <path path="@{classpath}"/>
+                    </classpath>
+                    <syspropertyset>
+                        <propertyref prefix="run-sys-prop."/>
+                        <mapper from="run-sys-prop.*" to="*" type="glob"/>
+                    </syspropertyset>
+                    <customize/>
+                </java>
+            </sequential>
+        </macrodef>
+    </target>
+    <target name="-init-macrodef-copylibs">
+        <macrodef name="copylibs" uri="http://www.netbeans.org/ns/j2se-project/3">
+            <attribute default="${manifest.file}" name="manifest"/>
+            <element name="customize" optional="true"/>
+            <sequential>
+                <property location="${build.classes.dir}" name="build.classes.dir.resolved"/>
+                <pathconvert property="run.classpath.without.build.classes.dir">
+                    <path path="${run.classpath}"/>
+                    <map from="${build.classes.dir.resolved}" to=""/>
+                </pathconvert>
+                <pathconvert pathsep=" " property="jar.classpath">
+                    <path path="${run.classpath.without.build.classes.dir}"/>
+                    <chainedmapper>
+                        <flattenmapper/>
+                        <filtermapper>
+                            <replacestring from=" " to="%20"/>
+                        </filtermapper>
+                        <globmapper from="*" to="lib/*"/>
+                    </chainedmapper>
+                </pathconvert>
+                <taskdef classname="org.netbeans.modules.java.j2seproject.copylibstask.CopyLibs" classpath="${libs.CopyLibs.classpath}" name="copylibs"/>
+                <copylibs compress="${jar.compress}" excludeFromCopy="${copylibs.excludes}" index="${jar.index}" indexMetaInf="${jar.index.metainf}" jarfile="${dist.jar}" manifest="@{manifest}" rebase="${copylibs.rebase}" runtimeclasspath="${run.classpath.without.build.classes.dir}">
+                    <fileset dir="${build.classes.dir}" excludes="${dist.archive.excludes}"/>
+                    <manifest>
+                        <attribute name="Class-Path" value="${jar.classpath}"/>
+                        <customize/>
+                    </manifest>
+                </copylibs>
+            </sequential>
+        </macrodef>
+    </target>
+    <target name="-init-presetdef-jar">
+        <presetdef name="jar" uri="http://www.netbeans.org/ns/j2se-project/1">
+            <jar compress="${jar.compress}" index="${jar.index}" jarfile="${dist.jar}">
+                <j2seproject1:fileset dir="${build.classes.dir}" excludes="${dist.archive.excludes}"/>
+            </jar>
+        </presetdef>
+    </target>
+    <target name="-init-ap-cmdline-properties">
+        <property name="annotation.processing.enabled" value="true"/>
+        <property name="annotation.processing.processors.list" value=""/>
+        <property name="annotation.processing.processor.options" value=""/>
+        <property name="annotation.processing.run.all.processors" value="true"/>
+        <property name="javac.processorpath" value="${javac.classpath}"/>
+        <property name="javac.test.processorpath" value="${javac.test.classpath}"/>
+        <condition property="ap.supported.internal" value="true">
+            <not>
+                <matches pattern="1\.[0-5](\..*)?" string="${javac.source}"/>
+            </not>
+        </condition>
+    </target>
+    <target depends="-init-ap-cmdline-properties" if="ap.supported.internal" name="-init-ap-cmdline-supported">
+        <condition else="" property="ap.processors.internal" value="-processor ${annotation.processing.processors.list}">
+            <isfalse value="${annotation.processing.run.all.processors}"/>
+        </condition>
+        <condition else="" property="ap.proc.none.internal" value="-proc:none">
+            <isfalse value="${annotation.processing.enabled}"/>
+        </condition>
+    </target>
+    <target depends="-init-ap-cmdline-properties,-init-ap-cmdline-supported" name="-init-ap-cmdline">
+        <property name="ap.cmd.line.internal" value=""/>
+    </target>
+    <target depends="-pre-init,-init-private,-init-user,-init-project,-do-init,-post-init,-init-check,-init-macrodef-property,-init-macrodef-javac,-init-macrodef-test,-init-macrodef-test-debug,-init-macrodef-nbjpda,-init-macrodef-debug,-init-macrodef-java,-init-presetdef-jar,-init-ap-cmdline" name="init"/>
+    <!--
+                ===================
+                COMPILATION SECTION
+                ===================
+            -->
+    <target name="-deps-jar-init" unless="built-jar.properties">
+        <property location="${build.dir}/built-jar.properties" name="built-jar.properties"/>
+        <delete file="${built-jar.properties}" quiet="true"/>
+    </target>
+    <target if="already.built.jar.${basedir}" name="-warn-already-built-jar">
+        <echo level="warn" message="Cycle detected: nb-tribaltrouble was already built"/>
+    </target>
+    <target depends="init,-deps-jar-init" name="deps-jar" unless="no.deps">
+        <mkdir dir="${build.dir}"/>
+        <touch file="${built-jar.properties}" verbose="false"/>
+        <property file="${built-jar.properties}" prefix="already.built.jar."/>
+        <antcall target="-warn-already-built-jar"/>
+        <propertyfile file="${built-jar.properties}">
+            <entry key="${basedir}" value=""/>
+        </propertyfile>
+    </target>
+    <target depends="init,-check-automatic-build,-clean-after-automatic-build" name="-verify-automatic-build"/>
+    <target depends="init" name="-check-automatic-build">
+        <available file="${build.classes.dir}/.netbeans_automatic_build" property="netbeans.automatic.build"/>
+    </target>
+    <target depends="init" if="netbeans.automatic.build" name="-clean-after-automatic-build">
+        <antcall target="clean"/>
+    </target>
+    <target depends="init,deps-jar" name="-pre-pre-compile">
+        <mkdir dir="${build.classes.dir}"/>
+    </target>
+    <target name="-pre-compile">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target if="do.depend.true" name="-compile-depend">
+        <pathconvert property="build.generated.subdirs">
+            <dirset dir="${build.generated.sources.dir}" erroronmissingdir="false">
+                <include name="*"/>
+            </dirset>
+        </pathconvert>
+        <j2seproject3:depend srcdir="${src.classes.dir}:${src.classes2.dir}:${src.classes3.dir}:${src.classes4.dir}:${src.classes5.dir}:${build.generated.subdirs}"/>
+    </target>
+    <target depends="init,deps-jar,-pre-pre-compile,-pre-compile, -copy-persistence-xml,-compile-depend" if="have.sources" name="-do-compile">
+        <j2seproject3:javac gensrcdir="${build.generated.sources.dir}"/>
+        <copy todir="${build.classes.dir}">
+            <fileset dir="${src.classes.dir}" excludes="${build.classes.excludes},${excludes}" includes="${includes}"/>
+            <fileset dir="${src.classes2.dir}" excludes="${build.classes.excludes},${excludes}" includes="${includes}"/>
+            <fileset dir="${src.classes3.dir}" excludes="${build.classes.excludes},${excludes}" includes="${includes}"/>
+            <fileset dir="${src.classes4.dir}" excludes="${build.classes.excludes},${excludes}" includes="${includes}"/>
+            <fileset dir="${src.classes5.dir}" excludes="${build.classes.excludes},${excludes}" includes="${includes}"/>
+        </copy>
+    </target>
+    <target if="has.persistence.xml" name="-copy-persistence-xml">
+        <mkdir dir="${build.classes.dir}/META-INF"/>
+        <copy todir="${build.classes.dir}/META-INF">
+            <fileset dir="${meta.inf.dir}" includes="persistence.xml orm.xml"/>
+        </copy>
+    </target>
+    <target name="-post-compile">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,deps-jar,-verify-automatic-build,-pre-pre-compile,-pre-compile,-do-compile,-post-compile" description="Compile project." name="compile"/>
+    <target name="-pre-compile-single">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,deps-jar,-pre-pre-compile" name="-do-compile-single">
+        <fail unless="javac.includes">Must select some files in the IDE or set javac.includes</fail>
+        <j2seproject3:force-recompile/>
+        <j2seproject3:javac excludes="" gensrcdir="${build.generated.sources.dir}" includes="${javac.includes}" sourcepath="${src.classes.dir}:${src.classes2.dir}:${src.classes3.dir}:${src.classes4.dir}:${src.classes5.dir}"/>
+    </target>
+    <target name="-post-compile-single">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,deps-jar,-verify-automatic-build,-pre-pre-compile,-pre-compile-single,-do-compile-single,-post-compile-single" name="compile-single"/>
+    <!--
+                ====================
+                JAR BUILDING SECTION
+                ====================
+            -->
+    <target depends="init" name="-pre-pre-jar">
+        <dirname file="${dist.jar}" property="dist.jar.dir"/>
+        <mkdir dir="${dist.jar.dir}"/>
+    </target>
+    <target name="-pre-jar">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init" if="do.archive" name="-do-jar-create-manifest" unless="manifest.available">
+        <tempfile deleteonexit="true" destdir="${build.dir}" property="tmp.manifest.file"/>
+        <touch file="${tmp.manifest.file}" verbose="false"/>
+    </target>
+    <target depends="init" if="do.archive+manifest.available" name="-do-jar-copy-manifest">
+        <tempfile deleteonexit="true" destdir="${build.dir}" property="tmp.manifest.file"/>
+        <copy file="${manifest.file}" tofile="${tmp.manifest.file}"/>
+    </target>
+    <target depends="init,-do-jar-create-manifest,-do-jar-copy-manifest" if="do.archive+main.class.available" name="-do-jar-set-mainclass">
+        <manifest file="${tmp.manifest.file}" mode="update">
+            <attribute name="Main-Class" value="${main.class}"/>
+        </manifest>
+    </target>
+    <target depends="init,-do-jar-create-manifest,-do-jar-copy-manifest" if="do.archive+profile.available" name="-do-jar-set-profile">
+        <manifest file="${tmp.manifest.file}" mode="update">
+            <attribute name="Profile" value="${javac.profile}"/>
+        </manifest>
+    </target>
+    <target depends="init,-do-jar-create-manifest,-do-jar-copy-manifest" if="do.archive+splashscreen.available" name="-do-jar-set-splashscreen">
+        <basename file="${application.splash}" property="splashscreen.basename"/>
+        <mkdir dir="${build.classes.dir}/META-INF"/>
+        <copy failonerror="false" file="${application.splash}" todir="${build.classes.dir}/META-INF"/>
+        <manifest file="${tmp.manifest.file}" mode="update">
+            <attribute name="SplashScreen-Image" value="META-INF/${splashscreen.basename}"/>
+        </manifest>
+    </target>
+    <target depends="init,-init-macrodef-copylibs,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen" if="do.mkdist" name="-do-jar-copylibs">
+        <j2seproject3:copylibs manifest="${tmp.manifest.file}"/>
+        <echo level="info">To run this application from the command line without Ant, try:</echo>
+        <property location="${dist.jar}" name="dist.jar.resolved"/>
+        <echo level="info">${platform.java} -jar "${dist.jar.resolved}"</echo>
+    </target>
+    <target depends="init,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen" if="do.archive" name="-do-jar-jar" unless="do.mkdist">
+        <j2seproject1:jar manifest="${tmp.manifest.file}"/>
+        <property location="${build.classes.dir}" name="build.classes.dir.resolved"/>
+        <property location="${dist.jar}" name="dist.jar.resolved"/>
+        <pathconvert property="run.classpath.with.dist.jar">
+            <path path="${run.classpath}"/>
+            <map from="${build.classes.dir.resolved}" to="${dist.jar.resolved}"/>
+        </pathconvert>
+        <condition else="" property="jar.usage.message" value="To run this application from the command line without Ant, try:${line.separator}${platform.java} -cp ${run.classpath.with.dist.jar} ${main.class}">
+            <isset property="main.class.available"/>
+        </condition>
+        <condition else="debug" property="jar.usage.level" value="info">
+            <isset property="main.class.available"/>
+        </condition>
+        <echo level="${jar.usage.level}" message="${jar.usage.message}"/>
+    </target>
+    <target depends="-do-jar-copylibs" if="do.archive" name="-do-jar-delete-manifest">
+        <delete>
+            <fileset file="${tmp.manifest.file}"/>
+        </delete>
+    </target>
+    <target depends="init,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen,-do-jar-jar,-do-jar-delete-manifest" name="-do-jar-without-libraries"/>
+    <target depends="init,compile,-pre-pre-jar,-pre-jar,-do-jar-create-manifest,-do-jar-copy-manifest,-do-jar-set-mainclass,-do-jar-set-profile,-do-jar-set-splashscreen,-do-jar-copylibs,-do-jar-delete-manifest" name="-do-jar-with-libraries"/>
+    <target name="-post-jar">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,compile,-pre-jar,-do-jar-without-libraries,-do-jar-with-libraries,-post-jar" name="-do-jar"/>
+    <target depends="init,compile,-pre-jar,-do-jar,-post-jar" description="Build JAR." name="jar"/>
+    <!--
+                =================
+                EXECUTION SECTION
+                =================
+            -->
+    <target depends="init,compile" description="Run a main class." name="run">
+        <j2seproject1:java>
+            <customize>
+                <arg line="${application.args}"/>
+            </customize>
+        </j2seproject1:java>
+    </target>
+    <target name="-do-not-recompile">
+        <property name="javac.includes.binary" value=""/>
+    </target>
+    <target depends="init,compile-single" name="run-single">
+        <fail unless="run.class">Must select one file in the IDE or set run.class</fail>
+        <j2seproject1:java classname="${run.class}"/>
+    </target>
+    <target depends="init,compile-test-single" name="run-test-with-main">
+        <fail unless="run.class">Must select one file in the IDE or set run.class</fail>
+        <j2seproject1:java classname="${run.class}" classpath="${run.test.classpath}"/>
+    </target>
+    <!--
+                =================
+                DEBUGGING SECTION
+                =================
+            -->
+    <target depends="init" if="netbeans.home" name="-debug-start-debugger">
+        <j2seproject1:nbjpdastart name="${debug.class}"/>
+    </target>
+    <target depends="init" if="netbeans.home" name="-debug-start-debugger-main-test">
+        <j2seproject1:nbjpdastart classpath="${debug.test.classpath}" name="${debug.class}"/>
+    </target>
+    <target depends="init,compile" name="-debug-start-debuggee">
+        <j2seproject3:debug>
+            <customize>
+                <arg line="${application.args}"/>
+            </customize>
+        </j2seproject3:debug>
+    </target>
+    <target depends="init,compile,-debug-start-debugger,-debug-start-debuggee" description="Debug project in IDE." if="netbeans.home" name="debug"/>
+    <target depends="init" if="netbeans.home" name="-debug-start-debugger-stepinto">
+        <j2seproject1:nbjpdastart stopclassname="${main.class}"/>
+    </target>
+    <target depends="init,compile,-debug-start-debugger-stepinto,-debug-start-debuggee" if="netbeans.home" name="debug-stepinto"/>
+    <target depends="init,compile-single" if="netbeans.home" name="-debug-start-debuggee-single">
+        <fail unless="debug.class">Must select one file in the IDE or set debug.class</fail>
+        <j2seproject3:debug classname="${debug.class}"/>
+    </target>
+    <target depends="init,compile-single,-debug-start-debugger,-debug-start-debuggee-single" if="netbeans.home" name="debug-single"/>
+    <target depends="init,compile-test-single" if="netbeans.home" name="-debug-start-debuggee-main-test">
+        <fail unless="debug.class">Must select one file in the IDE or set debug.class</fail>
+        <j2seproject3:debug classname="${debug.class}" classpath="${debug.test.classpath}"/>
+    </target>
+    <target depends="init,compile-test-single,-debug-start-debugger-main-test,-debug-start-debuggee-main-test" if="netbeans.home" name="debug-test-with-main"/>
+    <target depends="init" name="-pre-debug-fix">
+        <fail unless="fix.includes">Must set fix.includes</fail>
+        <property name="javac.includes" value="${fix.includes}.java"/>
+    </target>
+    <target depends="init,-pre-debug-fix,compile-single" if="netbeans.home" name="-do-debug-fix">
+        <j2seproject1:nbjpdareload/>
+    </target>
+    <target depends="init,-pre-debug-fix,-do-debug-fix" if="netbeans.home" name="debug-fix"/>
+    <!--
+                =================
+                PROFILING SECTION
+                =================
+            -->
+    <!--
+                pre NB7.2 profiler integration
+            -->
+    <target depends="profile-init,compile" description="Profile a project in the IDE." if="profiler.info.jvmargs.agent" name="-profile-pre72">
+        <fail unless="netbeans.home">This target only works when run from inside the NetBeans IDE.</fail>
+        <nbprofiledirect>
+            <classpath>
+                <path path="${run.classpath}"/>
+            </classpath>
+        </nbprofiledirect>
+        <profile/>
+    </target>
+    <target depends="profile-init,compile-single" description="Profile a selected class in the IDE." if="profiler.info.jvmargs.agent" name="-profile-single-pre72">
+        <fail unless="profile.class">Must select one file in the IDE or set profile.class</fail>
+        <fail unless="netbeans.home">This target only works when run from inside the NetBeans IDE.</fail>
+        <nbprofiledirect>
+            <classpath>
+                <path path="${run.classpath}"/>
+            </classpath>
+        </nbprofiledirect>
+        <profile classname="${profile.class}"/>
+    </target>
+    <target depends="profile-init,compile-single" if="profiler.info.jvmargs.agent" name="-profile-applet-pre72">
+        <fail unless="netbeans.home">This target only works when run from inside the NetBeans IDE.</fail>
+        <nbprofiledirect>
+            <classpath>
+                <path path="${run.classpath}"/>
+            </classpath>
+        </nbprofiledirect>
+        <profile classname="sun.applet.AppletViewer">
+            <customize>
+                <arg value="${applet.url}"/>
+            </customize>
+        </profile>
+    </target>
+    <target depends="profile-init,compile-test-single" if="profiler.info.jvmargs.agent" name="-profile-test-single-pre72">
+        <fail unless="netbeans.home">This target only works when run from inside the NetBeans IDE.</fail>
+        <nbprofiledirect>
+            <classpath>
+                <path path="${run.test.classpath}"/>
+            </classpath>
+        </nbprofiledirect>
+        <junit dir="${profiler.info.dir}" errorproperty="tests.failed" failureproperty="tests.failed" fork="true" jvm="${profiler.info.jvm}" showoutput="true">
+            <env key="${profiler.info.pathvar}" path="${profiler.info.agentpath}:${profiler.current.path}"/>
+            <jvmarg value="${profiler.info.jvmargs.agent}"/>
+            <jvmarg line="${profiler.info.jvmargs}"/>
+            <test name="${profile.class}"/>
+            <classpath>
+                <path path="${run.test.classpath}"/>
+            </classpath>
+            <syspropertyset>
+                <propertyref prefix="test-sys-prop."/>
+                <mapper from="test-sys-prop.*" to="*" type="glob"/>
+            </syspropertyset>
+            <formatter type="brief" usefile="false"/>
+            <formatter type="xml"/>
+        </junit>
+    </target>
+    <!--
+                end of pre NB72 profiling section
+            -->
+    <target if="netbeans.home" name="-profile-check">
+        <condition property="profiler.configured">
+            <or>
+                <contains casesensitive="true" string="${run.jvmargs.ide}" substring="-agentpath:"/>
+                <contains casesensitive="true" string="${run.jvmargs.ide}" substring="-javaagent:"/>
+            </or>
+        </condition>
+    </target>
+    <target depends="-profile-check,-profile-pre72" description="Profile a project in the IDE." if="profiler.configured" name="profile" unless="profiler.info.jvmargs.agent">
+        <startprofiler/>
+        <antcall target="run"/>
+    </target>
+    <target depends="-profile-check,-profile-single-pre72" description="Profile a selected class in the IDE." if="profiler.configured" name="profile-single" unless="profiler.info.jvmargs.agent">
+        <fail unless="run.class">Must select one file in the IDE or set run.class</fail>
+        <startprofiler/>
+        <antcall target="run-single"/>
+    </target>
+    <target depends="-profile-test-single-pre72" description="Profile a selected test in the IDE." name="profile-test-single"/>
+    <target depends="-profile-check" description="Profile a selected test in the IDE." if="profiler.configured" name="profile-test" unless="profiler.info.jvmargs">
+        <fail unless="test.includes">Must select some files in the IDE or set test.includes</fail>
+        <startprofiler/>
+        <antcall target="test-single"/>
+    </target>
+    <target depends="-profile-check" description="Profile a selected class in the IDE." if="profiler.configured" name="profile-test-with-main">
+        <fail unless="run.class">Must select one file in the IDE or set run.class</fail>
+        <startprofiler/>
+        <antcal target="run-test-with-main"/>
+    </target>
+    <target depends="-profile-check,-profile-applet-pre72" if="profiler.configured" name="profile-applet" unless="profiler.info.jvmargs.agent">
+        <fail unless="applet.url">Must select one file in the IDE or set applet.url</fail>
+        <startprofiler/>
+        <antcall target="run-applet"/>
+    </target>
+    <!--
+                ===============
+                JAVADOC SECTION
+                ===============
+            -->
+    <target depends="init" if="have.sources" name="-javadoc-build">
+        <mkdir dir="${dist.javadoc.dir}"/>
+        <condition else="" property="javadoc.endorsed.classpath.cmd.line.arg" value="-J${endorsed.classpath.cmd.line.arg}">
+            <and>
+                <isset property="endorsed.classpath.cmd.line.arg"/>
+                <not>
+                    <equals arg1="${endorsed.classpath.cmd.line.arg}" arg2=""/>
+                </not>
+            </and>
+        </condition>
+        <exec executable="${platform.java}" failonerror="false" outputproperty="platform.version.output">
+            <arg value="-version"/>
+        </exec>
+        <condition else="" property="bug5101868workaround" value="*.java">
+            <matches multiline="true" pattern="1\.[56](\..*)?" string="${platform.version.output}"/>
+        </condition>
+        <javadoc additionalparam="-J-Dfile.encoding=${file.encoding} ${javadoc.additionalparam}" author="${javadoc.author}" charset="UTF-8" destdir="${dist.javadoc.dir}" docencoding="UTF-8" encoding="${javadoc.encoding.used}" executable="${platform.javadoc}" failonerror="true" noindex="${javadoc.noindex}" nonavbar="${javadoc.nonavbar}" notree="${javadoc.notree}" private="${javadoc.private}" source="${javac.source}" splitindex="${javadoc.splitindex}" use="${javadoc.use}" useexternalfile="true" version="${javadoc.version}" windowtitle="${javadoc.windowtitle}">
+            <classpath>
+                <path path="${javac.classpath}"/>
+            </classpath>
+            <fileset dir="${src.classes.dir}" excludes="${bug5101868workaround},${excludes}" includes="${includes}">
+                <filename name="**/*.java"/>
+            </fileset>
+            <fileset dir="${src.classes2.dir}" excludes="${bug5101868workaround},${excludes}" includes="${includes}">
+                <filename name="**/*.java"/>
+            </fileset>
+            <fileset dir="${src.classes3.dir}" excludes="${bug5101868workaround},${excludes}" includes="${includes}">
+                <filename name="**/*.java"/>
+            </fileset>
+            <fileset dir="${src.classes4.dir}" excludes="${bug5101868workaround},${excludes}" includes="${includes}">
+                <filename name="**/*.java"/>
+            </fileset>
+            <fileset dir="${src.classes5.dir}" excludes="${bug5101868workaround},${excludes}" includes="${includes}">
+                <filename name="**/*.java"/>
+            </fileset>
+            <fileset dir="${build.generated.sources.dir}" erroronmissingdir="false">
+                <include name="**/*.java"/>
+                <exclude name="*.java"/>
+            </fileset>
+            <arg line="${javadoc.endorsed.classpath.cmd.line.arg}"/>
+        </javadoc>
+        <copy todir="${dist.javadoc.dir}">
+            <fileset dir="${src.classes.dir}" excludes="${excludes}" includes="${includes}">
+                <filename name="**/doc-files/**"/>
+            </fileset>
+            <fileset dir="${src.classes2.dir}" excludes="${excludes}" includes="${includes}">
+                <filename name="**/doc-files/**"/>
+            </fileset>
+            <fileset dir="${src.classes3.dir}" excludes="${excludes}" includes="${includes}">
+                <filename name="**/doc-files/**"/>
+            </fileset>
+            <fileset dir="${src.classes4.dir}" excludes="${excludes}" includes="${includes}">
+                <filename name="**/doc-files/**"/>
+            </fileset>
+            <fileset dir="${src.classes5.dir}" excludes="${excludes}" includes="${includes}">
+                <filename name="**/doc-files/**"/>
+            </fileset>
+            <fileset dir="${build.generated.sources.dir}" erroronmissingdir="false">
+                <include name="**/doc-files/**"/>
+            </fileset>
+        </copy>
+    </target>
+    <target depends="init,-javadoc-build" if="netbeans.home" name="-javadoc-browse" unless="no.javadoc.preview">
+        <nbbrowse file="${dist.javadoc.dir}/index.html"/>
+    </target>
+    <target depends="init,-javadoc-build,-javadoc-browse" description="Build Javadoc." name="javadoc"/>
+    <!--
+                =========================
+                TEST COMPILATION SECTION
+                =========================
+            -->
+    <target depends="init,compile" if="have.tests" name="-pre-pre-compile-test">
+        <mkdir dir="${build.test.classes.dir}"/>
+    </target>
+    <target name="-pre-compile-test">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target if="do.depend.true" name="-compile-test-depend">
+        <j2seproject3:depend classpath="${javac.test.classpath}" destdir="${build.test.classes.dir}" srcdir=""/>
+    </target>
+    <target depends="init,deps-jar,compile,-pre-pre-compile-test,-pre-compile-test,-compile-test-depend" if="have.tests" name="-do-compile-test">
+        <j2seproject3:javac apgeneratedsrcdir="${build.test.classes.dir}" classpath="${javac.test.classpath}" debug="true" destdir="${build.test.classes.dir}" processorpath="${javac.test.processorpath}" srcdir=""/>
+        <copy todir="${build.test.classes.dir}"/>
+    </target>
+    <target name="-post-compile-test">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,compile,-pre-pre-compile-test,-pre-compile-test,-do-compile-test,-post-compile-test" name="compile-test"/>
+    <target name="-pre-compile-test-single">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,deps-jar,compile,-pre-pre-compile-test,-pre-compile-test-single" if="have.tests" name="-do-compile-test-single">
+        <fail unless="javac.includes">Must select some files in the IDE or set javac.includes</fail>
+        <j2seproject3:force-recompile destdir="${build.test.classes.dir}"/>
+        <j2seproject3:javac apgeneratedsrcdir="${build.test.classes.dir}" classpath="${javac.test.classpath}" debug="true" destdir="${build.test.classes.dir}" excludes="" includes="${javac.includes}" processorpath="${javac.test.processorpath}" sourcepath="" srcdir=""/>
+        <copy todir="${build.test.classes.dir}"/>
+    </target>
+    <target name="-post-compile-test-single">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,compile,-pre-pre-compile-test,-pre-compile-test-single,-do-compile-test-single,-post-compile-test-single" name="compile-test-single"/>
+    <!--
+                =======================
+                TEST EXECUTION SECTION
+                =======================
+            -->
+    <target depends="init" if="have.tests" name="-pre-test-run">
+        <mkdir dir="${build.test.results.dir}"/>
+    </target>
+    <target depends="init,compile-test,-pre-test-run" if="have.tests" name="-do-test-run">
+        <j2seproject3:test includes="${includes}" testincludes="**/*Test.java"/>
+    </target>
+    <target depends="init,compile-test,-pre-test-run,-do-test-run" if="have.tests" name="-post-test-run">
+        <fail if="tests.failed" unless="ignore.failing.tests">Some tests failed; see details above.</fail>
+    </target>
+    <target depends="init" if="have.tests" name="test-report"/>
+    <target depends="init" if="netbeans.home+have.tests" name="-test-browse"/>
+    <target depends="init,compile-test,-pre-test-run,-do-test-run,test-report,-post-test-run,-test-browse" description="Run unit tests." name="test"/>
+    <target depends="init" if="have.tests" name="-pre-test-run-single">
+        <mkdir dir="${build.test.results.dir}"/>
+    </target>
+    <target depends="init,compile-test-single,-pre-test-run-single" if="have.tests" name="-do-test-run-single">
+        <fail unless="test.includes">Must select some files in the IDE or set test.includes</fail>
+        <j2seproject3:test excludes="" includes="${test.includes}" testincludes="${test.includes}"/>
+    </target>
+    <target depends="init,compile-test-single,-pre-test-run-single,-do-test-run-single" if="have.tests" name="-post-test-run-single">
+        <fail if="tests.failed" unless="ignore.failing.tests">Some tests failed; see details above.</fail>
+    </target>
+    <target depends="init,compile-test-single,-pre-test-run-single,-do-test-run-single,-post-test-run-single" description="Run single unit test." name="test-single"/>
+    <target depends="init,compile-test-single,-pre-test-run-single" if="have.tests" name="-do-test-run-single-method">
+        <fail unless="test.class">Must select some files in the IDE or set test.class</fail>
+        <fail unless="test.method">Must select some method in the IDE or set test.method</fail>
+        <j2seproject3:test excludes="" includes="${javac.includes}" testincludes="${test.class}" testmethods="${test.method}"/>
+    </target>
+    <target depends="init,compile-test-single,-pre-test-run-single,-do-test-run-single-method" if="have.tests" name="-post-test-run-single-method">
+        <fail if="tests.failed" unless="ignore.failing.tests">Some tests failed; see details above.</fail>
+    </target>
+    <target depends="init,compile-test-single,-pre-test-run-single,-do-test-run-single-method,-post-test-run-single-method" description="Run single unit test." name="test-single-method"/>
+    <!--
+                =======================
+                TEST DEBUGGING SECTION
+                =======================
+            -->
+    <target depends="init,compile-test-single,-pre-test-run-single" if="have.tests" name="-debug-start-debuggee-test">
+        <fail unless="test.class">Must select one file in the IDE or set test.class</fail>
+        <j2seproject3:test-debug excludes="" includes="${javac.includes}" testClass="${test.class}" testincludes="${javac.includes}"/>
+    </target>
+    <target depends="init,compile-test-single,-pre-test-run-single" if="have.tests" name="-debug-start-debuggee-test-method">
+        <fail unless="test.class">Must select one file in the IDE or set test.class</fail>
+        <fail unless="test.method">Must select some method in the IDE or set test.method</fail>
+        <j2seproject3:test-debug excludes="" includes="${javac.includes}" testClass="${test.class}" testMethod="${test.method}" testincludes="${test.class}" testmethods="${test.method}"/>
+    </target>
+    <target depends="init,compile-test" if="netbeans.home+have.tests" name="-debug-start-debugger-test">
+        <j2seproject1:nbjpdastart classpath="${debug.test.classpath}" name="${test.class}"/>
+    </target>
+    <target depends="init,compile-test-single,-debug-start-debugger-test,-debug-start-debuggee-test" name="debug-test"/>
+    <target depends="init,compile-test-single,-debug-start-debugger-test,-debug-start-debuggee-test-method" name="debug-test-method"/>
+    <target depends="init,-pre-debug-fix,compile-test-single" if="netbeans.home" name="-do-debug-fix-test">
+        <j2seproject1:nbjpdareload dir="${build.test.classes.dir}"/>
+    </target>
+    <target depends="init,-pre-debug-fix,-do-debug-fix-test" if="netbeans.home" name="debug-fix-test"/>
+    <!--
+                =========================
+                APPLET EXECUTION SECTION
+                =========================
+            -->
+    <target depends="init,compile-single" name="run-applet">
+        <fail unless="applet.url">Must select one file in the IDE or set applet.url</fail>
+        <j2seproject1:java classname="sun.applet.AppletViewer">
+            <customize>
+                <arg value="${applet.url}"/>
+            </customize>
+        </j2seproject1:java>
+    </target>
+    <!--
+                =========================
+                APPLET DEBUGGING  SECTION
+                =========================
+            -->
+    <target depends="init,compile-single" if="netbeans.home" name="-debug-start-debuggee-applet">
+        <fail unless="applet.url">Must select one file in the IDE or set applet.url</fail>
+        <j2seproject3:debug classname="sun.applet.AppletViewer">
+            <customize>
+                <arg value="${applet.url}"/>
+            </customize>
+        </j2seproject3:debug>
+    </target>
+    <target depends="init,compile-single,-debug-start-debugger,-debug-start-debuggee-applet" if="netbeans.home" name="debug-applet"/>
+    <!--
+                ===============
+                CLEANUP SECTION
+                ===============
+            -->
+    <target name="-deps-clean-init" unless="built-clean.properties">
+        <property location="${build.dir}/built-clean.properties" name="built-clean.properties"/>
+        <delete file="${built-clean.properties}" quiet="true"/>
+    </target>
+    <target if="already.built.clean.${basedir}" name="-warn-already-built-clean">
+        <echo level="warn" message="Cycle detected: nb-tribaltrouble was already built"/>
+    </target>
+    <target depends="init,-deps-clean-init" name="deps-clean" unless="no.deps">
+        <mkdir dir="${build.dir}"/>
+        <touch file="${built-clean.properties}" verbose="false"/>
+        <property file="${built-clean.properties}" prefix="already.built.clean."/>
+        <antcall target="-warn-already-built-clean"/>
+        <propertyfile file="${built-clean.properties}">
+            <entry key="${basedir}" value=""/>
+        </propertyfile>
+    </target>
+    <target depends="init" name="-do-clean">
+        <delete dir="${build.dir}"/>
+        <delete dir="${dist.dir}" followsymlinks="false" includeemptydirs="true"/>
+    </target>
+    <target name="-post-clean">
+        <!-- Empty placeholder for easier customization. -->
+        <!-- You can override this target in the ../build.xml file. -->
+    </target>
+    <target depends="init,deps-clean,-do-clean,-post-clean" description="Clean build products." name="clean"/>
+    <target name="-check-call-dep">
+        <property file="${call.built.properties}" prefix="already.built."/>
+        <condition property="should.call.dep">
+            <and>
+                <not>
+                    <isset property="already.built.${call.subproject}"/>
+                </not>
+                <available file="${call.script}"/>
+            </and>
+        </condition>
+    </target>
+    <target depends="-check-call-dep" if="should.call.dep" name="-maybe-call-dep">
+        <ant antfile="${call.script}" inheritall="false" target="${call.target}">
+            <propertyset>
+                <propertyref prefix="transfer."/>
+                <mapper from="transfer.*" to="*" type="glob"/>
+            </propertyset>
+        </ant>
+    </target>
+</project>
diff -Nur tribaltrouble/nbproject/genfiles.properties nb-tribaltrouble/nbproject/genfiles.properties
--- tribaltrouble/nbproject/genfiles.properties	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/nbproject/genfiles.properties	2017-02-15 22:36:57.000000000 -0800
@@ -0,0 +1,8 @@
+build.xml.data.CRC32=602b7435
+build.xml.script.CRC32=dae4bc2d
+build.xml.stylesheet.CRC32=8064a381@1.75.2.48
+# This file is used by a NetBeans-based IDE to track changes in generated files such as build-impl.xml.
+# Do not edit this file. You may delete it but then the IDE will never regenerate such files for you.
+nbproject/build-impl.xml.data.CRC32=4c2c9646
+nbproject/build-impl.xml.script.CRC32=366276a7
+nbproject/build-impl.xml.stylesheet.CRC32=876e7a8f@1.75.2.48
diff -Nur tribaltrouble/nbproject/private/private.properties nb-tribaltrouble/nbproject/private/private.properties
--- tribaltrouble/nbproject/private/private.properties	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/nbproject/private/private.properties	2017-02-15 22:36:57.000000000 -0800
@@ -0,0 +1,6 @@
+compile.on.save=true
+do.depend=false
+do.jar=true
+javac.debug=true
+javadoc.preview=true
+user.properties.file=/home/bcason/.netbeans/8.0.2/build.properties
diff -Nur tribaltrouble/nbproject/private/private.xml nb-tribaltrouble/nbproject/private/private.xml
--- tribaltrouble/nbproject/private/private.xml	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/nbproject/private/private.xml	2017-02-16 22:52:00.000000000 -0800
@@ -0,0 +1,9 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project-private xmlns="http://www.netbeans.org/ns/project-private/1">
+    <editor-bookmarks xmlns="http://www.netbeans.org/ns/editor-bookmarks/2" lastBookmarkId="0"/>
+    <open-files xmlns="http://www.netbeans.org/ns/projectui-open-files/2">
+        <group>
+            <file>file:/home/bcason/NetBeansProjects/nb-tribaltrouble/tools/classes/com/oddlabs/svnutil/CopyDist.java</file>
+        </group>
+    </open-files>
+</project-private>
diff -Nur tribaltrouble/nbproject/project.properties nb-tribaltrouble/nbproject/project.properties
--- tribaltrouble/nbproject/project.properties	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/nbproject/project.properties	2017-02-15 22:39:18.000000000 -0800
@@ -0,0 +1,116 @@
+annotation.processing.enabled=true
+annotation.processing.enabled.in.editor=false
+annotation.processing.processors.list=
+annotation.processing.run.all.processors=true
+annotation.processing.source.output=${build.generated.sources.dir}/ap-source-output
+application.title=nb-tribaltrouble
+application.vendor=team-penguin
+auxiliary.org-netbeans-spi-editor-hints-projects.perProjectHintSettingsFile=nbproject/cfg_hints.xml
+build.classes.dir=${build.dir}/classes
+build.classes.excludes=**/*.java,**/*.form
+# This directory is removed when the project is cleaned:
+build.dir=build
+build.generated.dir=${build.dir}/generated
+build.generated.sources.dir=${build.dir}/generated-sources
+# Only compile against the classpath explicitly listed here:
+build.sysclasspath=ignore
+build.test.classes.dir=${build.dir}/test/classes
+build.test.results.dir=${build.dir}/test/results
+# Uncomment to specify the preferred debugger connection transport:
+#debug.transport=dt_socket
+debug.classpath=\
+    ${run.classpath}
+debug.test.classpath=\
+    ${run.test.classpath}
+# Files in build.classes.dir which should be excluded from distribution jar
+dist.archive.excludes=
+# This directory is removed when the project is cleaned:
+dist.dir=dist
+dist.jar=${dist.dir}/nb-tribaltrouble.jar
+dist.javadoc.dir=${dist.dir}/javadoc
+endorsed.classpath=
+excludes=
+file.reference.commons-dbcp-1.4.jar=common/lib/java/commons-dbcp-1.4.jar
+file.reference.commons-lang3-3.5.jar=common/lib/java/commons-lang3-3.5.jar
+file.reference.commons-pool-1.6.jar=common/lib/java/commons-pool-1.6.jar
+file.reference.javasvn.jar=common/lib/java/javasvn.jar
+file.reference.jorbis-0.0.17.jar=common/lib/java/jorbis-0.0.17.jar
+file.reference.jsquish.jar=common/lib/java/jsquish.jar
+file.reference.lwjgl.jar=common/lib/java/lwjgl.jar
+file.reference.lwjgl_util.jar=common/lib/java/lwjgl_util.jar
+file.reference.mysql.jar=common/lib/java/mysql.jar
+file.reference.png.jar=common/lib/java/png.jar
+file.reference.servlet-api-2.5.jar=common/lib/java/servlet-api-2.5.jar
+includes=**
+jar.archive.disabled=${jnlp.enabled}
+jar.compress=false
+jar.index=${jnlp.enabled}
+javac.classpath=\
+    ${file.reference.commons-dbcp-1.4.jar}:\
+    ${file.reference.commons-lang3-3.5.jar}:\
+    ${file.reference.commons-pool-1.6.jar}:\
+    ${file.reference.javasvn.jar}:\
+    ${file.reference.jorbis-0.0.17.jar}:\
+    ${file.reference.jsquish.jar}:\
+    ${file.reference.lwjgl.jar}:\
+    ${file.reference.lwjgl_util.jar}:\
+    ${file.reference.mysql.jar}:\
+    ${file.reference.png.jar}:\
+    ${file.reference.servlet-api-2.5.jar}
+# Space-separated list of extra javac options
+javac.compilerargs=
+javac.deprecation=false
+javac.processorpath=\
+    ${javac.classpath}
+javac.source=1.7
+javac.target=1.7
+javac.test.classpath=\
+    ${javac.classpath}:\
+    ${build.classes.dir}
+javac.test.processorpath=\
+    ${javac.test.classpath}
+javadoc.additionalparam=
+javadoc.author=false
+javadoc.encoding=${source.encoding}
+javadoc.noindex=false
+javadoc.nonavbar=false
+javadoc.notree=false
+javadoc.private=false
+javadoc.splitindex=true
+javadoc.use=true
+javadoc.version=false
+javadoc.windowtitle=
+jnlp.codebase.type=no.codebase
+jnlp.descriptor=application
+jnlp.enabled=false
+jnlp.mixed.code=default
+jnlp.offline-allowed=false
+jnlp.signed=false
+jnlp.signing=
+jnlp.signing.alias=
+jnlp.signing.keystore=
+main.class=
+# Optional override of default Codebase manifest attribute, use to prevent RIAs from being repurposed
+manifest.custom.codebase=
+# Optional override of default Permissions manifest attribute (supported values: sandbox, all-permissions)
+manifest.custom.permissions=
+manifest.file=manifest.mf
+meta.inf.dir=${src.dir}/META-INF
+mkdist.disabled=false
+platform.active=JDK_1.7
+run.classpath=\
+    ${javac.classpath}:\
+    ${build.classes.dir}
+# Space-separated list of JVM arguments used when running the project.
+# You may also define separate properties like run-sys-prop.name=value instead of -Dname=value.
+# To set system properties for unit tests define test-sys-prop.name=value:
+run.jvmargs=
+run.test.classpath=\
+    ${javac.test.classpath}:\
+    ${build.test.classes.dir}
+source.encoding=UTF-8
+src.classes.dir=common/classes
+src.classes2.dir=server/classes
+src.classes3.dir=servlet/classes
+src.classes4.dir=tools/classes
+src.classes5.dir=tt/classes
diff -Nur tribaltrouble/nbproject/project.xml nb-tribaltrouble/nbproject/project.xml
--- tribaltrouble/nbproject/project.xml	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/nbproject/project.xml	2017-02-15 22:36:56.000000000 -0800
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<project xmlns="http://www.netbeans.org/ns/project/1">
+    <type>org.netbeans.modules.java.j2seproject</type>
+    <configuration>
+        <data xmlns="http://www.netbeans.org/ns/j2se-project/3">
+            <name>nb-tribaltrouble</name>
+            <explicit-platform explicit-source-supported="true"/>
+            <source-roots>
+                <root id="src.classes.dir"/>
+                <root id="src.classes2.dir"/>
+                <root id="src.classes3.dir"/>
+                <root id="src.classes4.dir"/>
+                <root id="src.classes5.dir"/>
+            </source-roots>
+            <test-roots/>
+        </data>
+    </configuration>
+</project>
diff -Nur tribaltrouble/registration-files/REGISTRATION.md nb-tribaltrouble/registration-files/REGISTRATION.md
--- tribaltrouble/registration-files/REGISTRATION.md	1969-12-31 16:00:00.000000000 -0800
+++ nb-tribaltrouble/registration-files/REGISTRATION.md	2017-02-18 10:28:22.000000000 -0800
@@ -0,0 +1,18 @@
+The following files can be used to enable the full game:
+> [registration #1](registration.H2MU-576N-DJ58-W8Q6)
+> [registration #2](registration.K6AA-Y33X-C7ZT-K4TF)
+NOTE: The files are signed with the current **private_reg_key** and may not work with the pre-compiled binaries.
+
+After renaming the file to:
+> registration
+Copy to the appropriate location:
+- Windows XP: `C:\Documents and Settings\Username\TribalTrouble\`
+- Windows Vista or newer: `C:\Users\Username\TribalTrouble\`
+- Mac OS X: `Library/Application Support/TribalTrouble/`
+- Linux: `~/.TribalTrouble/`
+
+With these registration files installed, you can play the full game or connect to your **private** Matchmaking service.
+The following services must be running to play a Match:
+> server/matchmaker
+> server/router
+The Matchmaking service depends on [DNS](../dns/DNS.md) and [MySQL](../mysql/MYSQL.md)
diff -Nur tribaltrouble/server/build.xml nb-tribaltrouble/server/build.xml
--- tribaltrouble/server/build.xml	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/server/build.xml	2017-02-15 21:47:39.000000000 -0800
@@ -1,6 +1,6 @@
 <project name="servers" basedir="." default="all">
 	<import file="../common/common.xml"/>
-	<property name="classpath" value="../common/build/classes:../common/lib/java/commons-pool-1.2.jar:../common/lib/java/commons-dbcp-1.2.1.jar:../common/lib/java/commons-collections.jar"/>
+	<property name="classpath" value="../common/build/classes:../common/lib/java/commons-pool-1.6.jar:../common/lib/java/commons-dbcp-1.4.jar:../common/lib/java/commons-collections-3.1.jar"/>
 
 	<target name="compiledeps" depends="compile-common">
 	</target>
diff -Nur tribaltrouble/server/classes/com/oddlabs/matchserver/Authenticator.java nb-tribaltrouble/server/classes/com/oddlabs/matchserver/Authenticator.java
--- tribaltrouble/server/classes/com/oddlabs/matchserver/Authenticator.java	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/server/classes/com/oddlabs/matchserver/Authenticator.java	2017-02-15 22:32:01.000000000 -0800
@@ -111,11 +111,14 @@
 		}
 		
 		try {
-			if (DBInterface.getRegKeyUsername(reg_key_encoded) != null) {
+			/* Team Penguin */
+			String user_name = DBInterface.getRegKeyUsername(reg_key_encoded);
+			if (user_name != null && !user_name.isEmpty()) {
 				client_interface.loginError(MatchmakingClientInterface.USERNAME_ERROR_TOO_MANY);
 				MatchmakingServer.getLogger().info("team-penguin -> Create user fail: " + login.getUsername() + " email address: " + login_details.getEmail() + " key: " + reg_key_encoded + " password: " + CryptUtils.digest(login.getPasswordDigest()));
 				return;
 			}
+			/* End Penguin */
 		} catch (IllegalArgumentException e) {
 			close();
 			return;
diff -Nur tribaltrouble/server/classes/com/oddlabs/matchserver/DBInterface.java nb-tribaltrouble/server/classes/com/oddlabs/matchserver/DBInterface.java
--- tribaltrouble/server/classes/com/oddlabs/matchserver/DBInterface.java	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/server/classes/com/oddlabs/matchserver/DBInterface.java	2017-02-15 22:28:50.000000000 -0800
@@ -77,7 +77,10 @@
 
 	public final static void createUser(Login login, LoginDetails login_details, String reg_key) {
 		try {
-			PreparedStatement stmt = DBUtils.createStatement("UPDATE registrations R SET username = ?, email = ?, password = ? WHERE R.reg_key = ? AND R.username IS NULL AND R.password IS NULL AND R.email IS NULL");
+			/* Team Penguin */
+			PreparedStatement stmt = DBUtils.createStatement("UPDATE registrations R SET username = ?, email = ?, password = ? WHERE R.reg_key = ? AND COALESCE(R.username, R.password, R.email) = ''");
+			//System.out.println("Add new user: UPDATE registrations R SET username = '" + login.getUsername() + "', email = '" + login_details.getEmail() + "', password = '" + CryptUtils.digest(login.getPasswordDigest()) + "' WHERE R.reg_key = '" + reg_key + "' AND COALESCE(R.username, R.password, R.email) = '';");
+			/* End Penguin */
 			try {
 				stmt.setString(1, login.getUsername());
 				stmt.setString(2, login_details.getEmail());
diff -Nur tribaltrouble/server/matchmaker nb-tribaltrouble/server/matchmaker
--- tribaltrouble/server/matchmaker	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/server/matchmaker	2017-02-16 20:35:22.000000000 -0800
@@ -5,5 +5,5 @@
 	mkdir logs
 fi
 
-java -Djava.security.manager -Djava.security.policy=matchmaker.policy -server -ea -cp matchmaking.jar:mysql.jar:commons-pool.jar:commons-dbcp.jar:commons-collections.jar com.oddlabs.matchserver.MatchmakingServer
+java -Djava.security.manager -Djava.security.policy=matchmaker.policy -server -ea -cp ../common/lib/java/mysql.jar:../common/lib/java/commons-pool-1.6.jar:../common/lib/java/commons-dbcp-1.4.jar:./build/matchmaking.jar com.oddlabs.matchserver.MatchmakingServer
 
diff -Nur tribaltrouble/server/router nb-tribaltrouble/server/router
--- tribaltrouble/server/router	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/server/router	2017-02-15 21:50:35.000000000 -0800
@@ -5,4 +5,4 @@
 	mkdir logs
 fi
 
-java -Djava.security.manager -Djava.security.policy=router.policy -server -ea -cp router.jar com.oddlabs.routerserver.RouterServer
+java -Djava.security.manager -Djava.security.policy=router.policy -server -ea -cp ./build/router.jar com.oddlabs.routerserver.RouterServer
diff -Nur tribaltrouble/servlet/build.xml nb-tribaltrouble/servlet/build.xml
--- tribaltrouble/servlet/build.xml	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/servlet/build.xml	2017-02-16 20:42:19.000000000 -0800
@@ -1,7 +1,7 @@
 <project name="servlet" basedir="." default="compile">
-	<property name="java_source_version" value="1.5"/>
+	<property name="java_source_version" value="1.6"/>
 	<import file="../common/common.xml"/>
-	<property name="classpath" value="../common/build/classes:${lib}/servlet-api.jar"/>
+	<property name="classpath" value="../common/build/classes:${lib}/servlet-api-2.5.jar"/>
 	<property name="tomcat.home" location="/var/lib/tomcat-6-oddlabs"/>
 
 	<target name="compiledeps" depends="compile-common">
@@ -43,7 +43,9 @@
 			<classes dir="${build}/classes" includes="com/oddlabs/regservlet/**/*class"/>
 			<metainf dir="regservlet" includes="context.xml"/>
 			<classes dir="../common/static" includes="private_reg_key"/>
+			<!--
 			<lib dir="regservlet/lib" includes="*.jar"/>
+			-->
 		</war>
 	</target>
 
diff -Nur tribaltrouble/tt/build.xml nb-tribaltrouble/tt/build.xml
--- tribaltrouble/tt/build.xml	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/tt/build.xml	2017-02-17 18:33:49.000000000 -0800
@@ -2,7 +2,7 @@
 	<import file="../common/common.xml"/>
 	<property name="jre" value="jre1.5.0_22"/>
 	<property name="main_class" value="com.oddlabs.tt.Main"/>
-	<property name="classpath" value="../common/build/classes:${lib}/javasvn.jar:${lib}/lwjgl.jar:${lib}/lwjgl_util.jar:${lib}/jorbis.jar:${lib}/jsquish.jar:${lib}/commons-lang3-3.5.jar"/>
+	<property name="classpath" value="../common/build/classes:${lib}/javasvn.jar:${lib}/lwjgl.jar:${lib}/lwjgl_util.jar:${lib}/jorbis-0.0.17.jar:${lib}/jsquish.jar:${lib}/commons-lang3-3.5.jar"/>
 	<property name="res_classpath" value="${build}:static:i18n:${commonstatic}"/>
 
 	<property name="revision_number_file" location="${build}/revision_number"/>
@@ -181,7 +181,7 @@
 		<mkdir dir="${dist}/linux-x86"/>
 		<mkdir dir="${dist}/windows-x86"/>
 		<mkdir dir="${dist}/macosx-ppc"/>
-		<jar compress="false" destfile="${dist}/common/tt-code.jar">
+		<jar compress="false" destfile="${dist}/common/lib/tt-code.jar">
 			<fileset dir="${build}/classes">
 				<include name="com/oddlabs/tt/**/*class"/>
 			</fileset>
@@ -205,15 +205,20 @@
 			<fileset dir="static">
 				<include name="scripts/*.xml"/>
 			</fileset>
+			<fileset file="${revision_number_file}"/>
+			<fileset dir="../common/static">
+				<include name="public_reg_key"/>
+			</fileset>
 		</jar>
-		<jar compress="false" destfile="${dist}/common/tt-i18n.jar">
+		<jar compress="false" destfile="${dist}/common/lib/tt-i18n.jar">
 			<fileset dir="i18n">
 				<include name="com/oddlabs/tt/**/*properties"/>
 			</fileset>
 		</jar>
 		<copy todir="${dist}/common">
 			<fileset dir="${build}">
-				<!--			<include name="com/oddlabs/tt/**/*class"/>
+				<!--
+				<include name="com/oddlabs/tt/**/*class"/>
 				<include name="com/oddlabs/net/**/*class"/>
 				<include name="com/oddlabs/util/**/*class"/>
 				<include name="com/oddlabs/registration/**/*class"/>
@@ -233,28 +238,45 @@
 				<include name="textures/font/*image"/>
 				<include name="textures/font/*dxtn"/>
 			</fileset>
+			<!--
 			<fileset file="${revision_number_file}"/>
 			<fileset dir="../common/static">
 				<include name="public_reg_key"/>
 			</fileset>
+			-->
 			<fileset dir="static">
 				<include name="gui/*.xml"/>
 				<include name="sfx/*.ogg"/>
 				<include name="sfx/*.wav"/>
 				<include name="music/*.ogg"/>
 				<include name="font/*font"/>
-				<!--				<include name="textures/models/*png"/>
-				<include name="textures/models/*jpg"/>-->
+				<!--
+				<include name="textures/models/*png"/>
+				<include name="textures/models/*jpg"/>
+				-->
 			</fileset>
+		</copy>
+		<exec executable="cp">
+			<arg line="../common/static/tribaltrouble.sh ${dist}/common/."/>
+		</exec>
+		<copy todir="${dist}/common/lib">
 			<fileset dir="${lib}">
 				<include name="javasvn.jar"/>
 				<include name="lwjgl.jar"/>
 				<include name="lwjgl_util.jar"/>
-				<include name="jorbis.jar"/>
+				<include name="jorbis-0.0.17.jar"/>
 				<include name="jsquish.jar"/>
 				<include name="commons-lang3-3.5.jar"/>
 			</fileset>
 		</copy>
+		<copy todir="${dist}/common/lib/native">
+			<fileset dir="${nativelib}">
+				<include name="liblwjgl.so"/>
+				<include name="liblwjgl64.so"/>
+				<include name="libopenal.so"/>
+				<include name="libopenal64.so"/>
+			</fileset>
+		</copy>
 		<copy todir="${dist}/windows-x86">
 			<fileset dir="${nativelib}">
 				<include name="lwjgl.dll"/>
@@ -268,12 +290,6 @@
 				<include name="openal.dylib"/>
 			</fileset>
 		</copy>
-		<copy todir="${dist}/linux-x86">
-			<fileset dir="${nativelib}">
-				<include name="liblwjgl.so"/>
-				<include name="libopenal.so"/>
-			</fileset>
-		</copy>
 	</target>
 
 	<target name="-checkoutgamedata">
diff -Nur tribaltrouble/tt/classes/com/oddlabs/tt/form/NewUserForm.java nb-tribaltrouble/tt/classes/com/oddlabs/tt/form/NewUserForm.java
--- tribaltrouble/tt/classes/com/oddlabs/tt/form/NewUserForm.java	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/tt/classes/com/oddlabs/tt/form/NewUserForm.java	2017-02-15 22:08:41.000000000 -0800
@@ -142,7 +142,7 @@
 			if (!login.isValid())
 				gui_root.addModalForm(new MessageForm(Utils.getBundleString(bundle, "invalid_login")));
 			else
-				System.out.println("team-penguin: username = " + username + ", password = " + CryptUtils.digest(login.getPasswordDigest()) + ", " + login_details.getEmail() + ", pw_digest = " + password + ", " + login.getUsername());
+				System.out.println("team-penguin: username = " + username + ", password = " + CryptUtils.digest(login.getPasswordDigest()) + ", email = " + login_details.getEmail() + ", pw_digest = " + password + ", login = " + login.getUsername());
 				doCreateUser(username, login_details, password, login);
 		}
 	}
diff -Nur tribaltrouble/tt/classes/com/oddlabs/tt/procedural/Landscape.java nb-tribaltrouble/tt/classes/com/oddlabs/tt/procedural/Landscape.java
--- tribaltrouble/tt/classes/com/oddlabs/tt/procedural/Landscape.java	2017-02-18 18:02:47.000000000 -0800
+++ nb-tribaltrouble/tt/classes/com/oddlabs/tt/procedural/Landscape.java	2017-02-18 17:00:46.000000000 -0800
@@ -111,9 +111,9 @@
 				access_threshold = 0.025f;
 				break;
 			case 2048:
-				size_multiplier = 32;
-				height_scale = 72;
-				access_threshold = 0.01875f;
+				size_multiplier = 80;
+				height_scale = 64;
+				access_threshold = 0.0375f;
 				break;
 			default:
 				size_multiplier = 0;
@@ -851,12 +851,14 @@
 		shadow.channelBrightest(iron.copy().multiply(0.5f));
 		if (DEBUG) iron.toLayer().saveAsPNG("supplies_iron_placed");
 
-		if (DEBUG) {
+		/* Team Penguin */
+		//if (DEBUG) {
 			System.out.println("Number of trees placed: " + trees.count(1f));
 			System.out.println("Number of palmtrees placed: " + palmtrees.count(1f));
 			System.out.println("Number of rocks placed: " + rock.count(1f));
 			System.out.println("Number of iron ore placed: " + iron.count(1f));
-		}
+		//}
+		/* End Penguin */
 		
 		// place extra supplies around starting locations
 		int num_rock = 2;
diff -Nur tribaltrouble/tt/tribaltrouble.sh nb-tribaltrouble/tt/tribaltrouble.sh
--- tribaltrouble/tt/tribaltrouble.sh	2017-02-18 18:02:48.000000000 -0800
+++ nb-tribaltrouble/tt/tribaltrouble.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,11 +0,0 @@
-#!/bin/sh
-#
-# NOTE: The Huge Island will require: -Xmx400m
-
-if [ "$1" != "" ] && [ -e $1 ]; then
-	cd $1
-fi
-
-JPATH=$(find /opt -maxdepth 1 -type d -name icedtea-bin-6\*)
-
-${JPATH}/jre/bin/java -ea -Djava.library.path=${HOME}/tt-ant/native -Dorg.lwjgl.util.Debug=false -Xmx400m -cp ${HOME}/tt-ant/'*':. com.oddlabs.tt.Main --silent
